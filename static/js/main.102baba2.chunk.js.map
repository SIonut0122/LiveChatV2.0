{"version":3,"sources":["images/chat/bot_img.png","images/chat/message.mp3","actions/index.js","constants/action-types.js","components/WelcomePage.jsx","components/UserCP.jsx","firebase/index.js","components/Header.jsx","components/SignInUp.jsx","components/MobileMenu.jsx","components/Main.jsx","reducers.js","store.js","index.js"],"names":["module","exports","userInfo","payload","type","openSigninup","getChatMsg","openUserCP","openMobileMenu","WelcomePage","props","className","React","Component","ConnectedUserCP","signOut","bind","handleCPModalClick","firebase","then","console","log","window","location","reload","catch","error","this","displayUserCP","document","querySelector","classList","remove","setTimeout","add","user","undefined","onClick","tabIndex","displayName","substring","userCountryAndFlag","length","src","alt","title","email","metadata","creationTime","connectedTime","lastSignInTime","UserCP","connect","state","dispatch","bol","firebaseConfig","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","ref","getdbRefData","ConnectedHeader","userLoaded","userImgLetter","userIP","userCountry","userCountryFlag","displayUserCp","openSignInSignUp","displaySignInUp","fetch","res","json","data","getUserCountry","ip","setState","getUserIP","authListener","err","setInterval","fetchOnlineUsers","country_name","getAllCountries","country_code","trackUsersStats","city","countryCode","i","name","alpha2Code","flag","setCountryAndFlag","onAuthStateChanged","userIsLoaded","signedUserOn","inactiveUser","anonymousUserOn","databaseRef","dbRef","child","push","today","Date","time","getHours","getMinutes","toUpperCase","set","key","username","imgLetter","originDate","toString","country","countryFlag","getUserKey","userKey","getConnectedTime","fetchedOnlineUsers","self","on","onlineUsers","val","id","keys","Object","k","uniqueKey","Array","from","Set","map","a","find","duplArray","forEach","msg","index","firstDuplKey","indexOf","splice","updateUsersOnline","userList","millisec","Math","abs","hours","floor","ind","signedInd","anonymousUser","anonInd","getOnlineUsers","randomNumber","uuidv4","setAnonymousUser","fetchedVisitors","visitorsInfo","date","visitors","newVisitor","href","Header","displayWelcomePage","loaded","connTime","arr","ConnectedSignInUp","displaySignIn","signinEmail","signinEmailValid","invalidSignInEmail","signinPassword","signinPasswordValid","invalidSignInPass","displaySigninLoading","signupEmail","signupEmailValid","signupUsername","signupUsernameValid","signupPassword","signupPasswordValid","signupInvalidEmail","signupEmailInUse","signupInvalidUsername","signupInvalidPassword","invalidUserOrPassword","fetchSignedUpUsernames","usernameExists","openForgotPass","forgotPassEmail","forgotPassEmailValid","forgotPassEmailSent","forgotPassEmailNotValid","handleSignUpModalClick","sendNewPasswordButton","handleSignInButton","handleSignUpButton","setAttribute","e","signUpButton","target","removeAttribute","signInButton","emailValue","value","match","passwordValue","checkPasswordLength","checkWhiteSpaces","trim","showHideButton","contains","focus","keyCode","signIn","style","display","auth","signInWithEmailAndPassword","u","chatMsg","fetchedChatMsg","code","sendPasswordResetEmail","forgotPassEmailNotFound","innerHTML","usernameValue","checkUsername","split","every","x","checkUsernameLength","filter","toLowerCase","createAccount","opacity","createUserWithEmailAndPassword","updateNewAccountInfo","currentUser","updateProfile","fetchedUsernames","signedUpUsernames","usernames","obj","displaySignUp","placeholder","autoComplete","onChange","handleForgotPassInput","onKeyDown","handleForgotPassInputKey","handleSignInEmail","handleKeyDownSignIn","handleSignInPassword","showHideSignInPass","handleSignUpEmail","handleKeyDownSignUp","maxLength","handleSignUpUsername","handleSignUpPassword","showHideSignUpPass","SignInUp","ConnectedMobileMenu","displayMobileMenu","mobSignInUp","stopPropagation","handleMobmenuClick","mobMenuLeaveChat","onuser","require","MobileMenu","ConnectedMain","inputMessage","replyToMsg","replyUsername","firstTextPart","secondTextPart","chatMessages","msgAudio","Audio","fetchedMessages","dataMsgFetchError","onlineUserKey","emoticons","renderEmoticons","lastMsgIsInView","timer","interval","botMessageSent","alreadyConnected","cancelReplyMsg","sendMessage","openWelcomePage","fetchChatMessages","addEventListener","handleWindowBeforeUnload","handleWindowResize","act","stopTimer","startTimer","url","body","countActivity","disconnectUser","clearInterval","setInactiveUser","removeEventListener","request","navigator","sendBeacon","fetchedChatMessages","todayDate","getDate","getMonth","getFullYear","message","audio","load","play","sendBotMessage","scrollToLastMsg","botMsg","chatVolume","chatSound","volume","innerWidth","getElementById","scrollIntoView","newText","chatInput","inputSendButton","querySelectorAll","onUsers","founded","el","toggle","msgValue","checkMsgValueLength","input","cursorPosition","selectionStart","selectionEnd","setSelectionRange","createTextRange","range","collapse","moveEnd","moveStart","select","scroll","scrollY","pageYOffset","boundsTop","getBoundingClientRect","top","viewport","innerHeight","bounds","clientHeight","DivIsInView","firstElementChild","childNodes","firstChild","messages","chatDelMsg","nextSibling","previousSibling","inputReplyName","inputChat","replyNameWidth","offsetWidth","paddingLeft","left","paddingLeftMob","inputReplyUsername","lastMessage","behavior","clearAllActivity","muteUnmuteChat","fullChatWidth","handleScrollToChatBottom","handleChatClick","onScroll","handleChatScroll","handleMsgThreeDots","removeThisMsg","replyToThisMsg","emoji","selectEmoji","openEmotiList","handleChatInputClick","handleChatInput","onKeyPress","handleChatKey","Main","initialState","rootReducer","action","assign","store","createStore","ReactDOM","render"],"mappings":"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","file":"static/js/main.102baba2.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/message.a431eaad.mp3\";","\r\nimport { USER              } from \"../constants/action-types\";\r\nimport { OPEN_SIGN_IN_UP   } from \"../constants/action-types\";\r\nimport { USER_LOADED       } from \"../constants/action-types\";\r\nimport { ANONYMOUS_USER    } from \"../constants/action-types\";\r\nimport { USER_KEY          } from \"../constants/action-types\";\r\nimport { GET_ONLINE_USERS  } from \"../constants/action-types\";\r\nimport { GET_CHAT_MSG      } from \"../constants/action-types\";\r\nimport { GET_CONN_TIME     } from \"../constants/action-types\";\r\nimport { OPEN_USER_CP      } from \"../constants/action-types\";\r\nimport { OPEN_MOBILE_MENU  } from \"../constants/action-types\";\r\nimport { INACTIVE_USER     } from \"../constants/action-types\";\r\nimport { OPEN_WELCOME_PAGE } from \"../constants/action-types\";\r\nimport { USER_COUNTRY_FLAG } from \"../constants/action-types\";\r\nimport { GET_USER_IP       } from \"../constants/action-types\";\r\n\r\n\r\n\r\n\r\nexport function openWelcomePage(payload) {\r\n  return { type: OPEN_WELCOME_PAGE, payload };\r\n}\r\nexport function userInfo(payload) {\r\n  return { type: USER, payload };\r\n}\r\nexport function setAnonymousUser(payload) {\r\n  return { type: ANONYMOUS_USER, payload };\r\n}\r\nexport function openSigninup(payload) {\r\n  return { type: OPEN_SIGN_IN_UP, payload };\r\n}\r\nexport function userIsLoaded(payload) {\r\n  return { type: USER_LOADED, payload };\r\n}\r\n export function getUserKey(payload) {\r\n  return { type: USER_KEY, payload };\r\n}\r\n export function getOnlineUsers(payload) {\r\n  return { type: GET_ONLINE_USERS, payload };\r\n}\r\nexport function getChatMsg(payload) {\r\n  return { type: GET_CHAT_MSG, payload };\r\n}\r\nexport function getConnectedTime(payload) {\r\n  return { type: GET_CONN_TIME, payload };\r\n}\r\nexport function openUserCP(payload) {\r\n  return { type: OPEN_USER_CP, payload };\r\n}\r\nexport function openMobileMenu(payload) {\r\n  return { type: OPEN_MOBILE_MENU, payload };\r\n}\r\nexport function setInactiveUser(payload) {\r\n  return { type: INACTIVE_USER, payload };\r\n}\r\nexport function setCountryAndFlag(payload) {\r\n  return { type: USER_COUNTRY_FLAG, payload };\r\n}\r\nexport function getUserIP(payload) {\r\n  return { type: GET_USER_IP, payload };\r\n}\r\n\r\n ","export const USER              = 'USER';\r\nexport const OPEN_SIGN_IN_UP   = 'OPEN_SIGN_IN_UP';\r\nexport const USER_LOADED       = 'USER_LOADED';\r\nexport const ANONYMOUS_USER    = 'ANONYMOUS_USER';\r\nexport const USER_KEY          = 'USER_KEY';\r\nexport const GET_ONLINE_USERS  = 'GET_ONLINE_USERS';\r\nexport const GET_CHAT_MSG      = 'GET_CHAT_MSG';\r\nexport const GET_CONN_TIME     = 'GET_CONN_TIME';\r\nexport const OPEN_USER_CP \t   = 'OPEN_USER_CP';\r\nexport const OPEN_MOBILE_MENU  = 'OPEN_MOBILE_MENU';\r\nexport const INACTIVE_USER     = 'INACTIVE_USER';\r\nexport const OPEN_WELCOME_PAGE = 'OPEN_WELCOME_PAGE';\r\nexport const USER_COUNTRY_FLAG = 'USER_COUNTRY_FLAG';\r\nexport const GET_USER_IP       = 'GET_USER_IP';\r\n ","import React from 'react';\r\nimport '../css/Welcomepage.css';\r\n\r\n\r\n\r\nclass WelcomePage extends React.Component {\r\n  constructor(props) {\r\n    super();\r\n  }\r\n\r\n\r\n  render() {\r\n    return (\r\n        <div>\r\n          <div className='col-12 welcomepage_container'>\r\n            <span className='wpage_foriz_sect'></span>\r\n            <span className='wpage_soriz_sect'></span>\r\n            <span className='wpage_toriz_sect'></span>\r\n\r\n            <div className='row justify-content-center'>\r\n              <div className='wp_wrap_loading_txt'>\r\n                    <span className='wp_txt_dot'></span>\r\n                    <span className='wp_l'>L</span>\r\n                    <span className='wp_icon'></span>\r\n                    <span className='wp_ading'>ADING\r\n                      <span>.</span>\r\n                      <span>.</span>\r\n                      <span>.</span>\r\n                    </span>\r\n              </div>\r\n              <span className='wp_round_ico'></span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )\r\n  }\r\n}\r\n\r\nexport default WelcomePage;\r\n","import React          from 'react';\r\nimport { connect }    from \"react-redux\";\r\nimport { openUserCP } from '../actions/index';\r\nimport * as firebase  from 'firebase/app';\r\nimport '../css/Usercp.css';\r\n\r\n\r\nconst mapStateToProps = state => {\r\n  return {  user               : state.user,\r\n            connectedTime      : state.connectedTime,\r\n            displayUserCP      : state.displayUserCP,\r\n            userCountryAndFlag : state.userCountryAndFlag\r\n        };\r\n      };\r\n\r\n function mapDispatchToProps(dispatch) {\r\n  return {\r\n      openUserCP : bol => dispatch(openUserCP(bol))\r\n  };\r\n}\r\n\r\n\r\nclass ConnectedUserCP extends React.Component {\r\n  constructor(props) {\r\n    super();\r\n\r\n    this.signOut            = this.signOut.bind(this);\r\n    this.handleCPModalClick = this.handleCPModalClick.bind(this);\r\n  }\r\n\r\n\r\nsignOut() {\r\n  firebase.auth().signOut()\r\n  .then(() => {\r\n    console.log('Signed out.')\r\n    window.location.reload();\r\n  })\r\n  .catch(error => console.log('Error: ' + error));\r\n}\r\n\r\n\r\nhandleCPModalClick() {\r\n  let displayUserCP = this.props.displayUserCP;\r\n\r\n    // Check if displayUserCP - If userCp container is rendered or not\r\n    if(displayUserCP) {\r\n      // Hide user cp box and destroy it\r\n      document.querySelector('.usercp_container').classList.remove('usercp_open');\r\n      setTimeout(() => {\r\n       this.props.openUserCP({ displayUserCP: false })\r\n      },500);\r\n    } else {\r\n      // Render user cp box and display it with delay \r\n      this.props.openUserCP({ displayUserCP: true })\r\n      setTimeout(() => {\r\n          document.querySelector('.usercp_container').classList.add('usercp_open');\r\n       },350);\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n  render() {\r\n    let user = this.props.user !== undefined;\r\n\r\n    return (\r\n        <div>\r\n        <div className='usercp_modal' onClick={this.handleCPModalClick}></div>\r\n          {user && (\r\n          <div className='col-12 usercp_container' tabIndex='0'> \r\n            <div className='row justify-content-center'>\r\n              <div className='wrap_usercp col-11'>\r\n                <div className='row justify-content-center'>\r\n                  <span className='usercp_wrap_img'>\r\n                    <span>{user && ( this.props.user.displayName.substring(0,1))}</span>\r\n                  </span>\r\n                </div>\r\n\r\n              {/* Render only if info about user's country and flag are found */}\r\n                {this.props.userCountryAndFlag.length > 0 && (\r\n                <div className='row justify-content-center'>\r\n                  <span className='usercp_info usercp_location'>\r\n                    <span>Location: </span>\r\n                    <span>\r\n                      <img src={this.props.userCountryAndFlag[1]} alt={this.props.userCountryAndFlag[0]} title={this.props.userCountryAndFlag[0]}/>\r\n                      <span>{this.props.userCountryAndFlag[0]}</span>\r\n                    </span>\r\n                  </span>\r\n                </div>\r\n                )}\r\n\r\n                <div className='row justify-content-center'>\r\n                  <span className='usercp_info usercp_displayname'>\r\n                    <span>Username: </span>\r\n                    <span>{user && (this.props.user.displayName)}</span>\r\n                  </span>\r\n                </div>\r\n\r\n                <div className='row justify-content-center'>\r\n                  <span className='usercp_info usercp_email'>\r\n                    <span>Email: </span>\r\n                    <span>{user && (this.props.user.email)}</span>\r\n                  </span>\r\n                </div>\r\n\r\n                <div className='row justify-content-center'>\r\n                  <span className='usercp_info usercp_lastsee'>\r\n                    <span>Account created at: </span>\r\n                    <span>{user && (this.props.user.metadata.creationTime)}</span>\r\n                  </span>\r\n                </div>\r\n\r\n                <div className='row justify-content-center'>\r\n                  <span className='usercp_info usercp_createdacc'>\r\n                    <span>Connected at: </span>\r\n                    <span>{this.props.connectedTime}</span>\r\n                  </span>\r\n                </div>\r\n\r\n                <div className='row justify-content-center'>\r\n                  <span className='usercp_info usercp_lastsee'>\r\n                    <span>Last sign in time: </span>\r\n                    <span>{user && (this.props.user.metadata.lastSignInTime)}</span>\r\n                  </span>\r\n                </div>\r\n\r\n                <div className='row justify-content-center'>\r\n                  <span className='usercp_logout_wrap' onClick={this.signOut} tabIndex='0'>\r\n                    <span></span>\r\n                    <span>Leave chat</span>\r\n                  </span>\r\n                </div>\r\n\r\n              </div>\r\n            </div>\r\n          </div>\r\n          )}\r\n        </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst UserCP = connect(mapStateToProps,mapDispatchToProps)(ConnectedUserCP);\r\nexport default UserCP;\r\n"," import * as firebase from 'firebase/app';\r\n import 'firebase/database';\r\n import 'firebase/auth';\r\n const apikey = `${process.env.REACT_APP_API_KEY}`\r\n\r\n \r\n\r\n  var firebaseConfig = {\r\n    apiKey: apikey,\r\n    authDomain: \"livechat-v20.firebaseapp.com\",\r\n    databaseURL: \"https://livechat-v20.firebaseio.com\",\r\n    projectId: \"livechat-v20\",\r\n    storageBucket: \"livechat-v20.appspot.com\",\r\n    messagingSenderId: \"90898545617\",\r\n    appId: \"1:90898545617:web:7fbf6111135b97811b7ef0\",\r\n    measurementId: \"G-SE3GHPY8Y3\"\r\n  };\r\n\r\n  // Initialize Firebase\r\n  firebase.initializeApp(firebaseConfig);\r\n \r\n  // Online users database\r\n  let dbRef = firebase.database().ref('dbRef');\r\n\r\n  // Define Database \r\n  let getDataBase    = firebase.database();\r\n\r\n  // Get online users from database\r\n  let getdbRefData = getDataBase.ref('dbRef');\r\n\r\n\r\nexport {\r\n   firebase, dbRef,getdbRefData as default\r\n  }","import React                 from 'react';\r\nimport { connect            } from \"react-redux\";\r\nimport { userInfo           } from '../actions/index';\r\nimport { openSigninup       } from '../actions/index';\r\nimport { openUserCP         } from '../actions/index';\r\nimport { userIsLoaded       } from '../actions/index';\r\nimport { getUserKey         } from '../actions/index';\r\nimport { setAnonymousUser   } from '../actions/index';\r\nimport { getOnlineUsers     } from '../actions/index';\r\nimport { getConnectedTime   } from '../actions/index';\r\nimport { setCountryAndFlag  } from '../actions/index';\r\nimport { getUserIP          } from '../actions/index';\r\nimport { v4 as uuidv4       } from 'uuid';\r\nimport UserCP                 from '../components/UserCP';\r\nimport dbRef                  from '../firebase';\r\nimport getdbRefData           from '../firebase';\r\nimport * as firebase          from 'firebase/app';\r\nimport 'firebase/auth';\r\nimport '../css/Header.css';\r\n\r\n\r\n\r\n\r\nconst mapStateToProps = state => {\r\n  return {  \r\n            displayWelcomePage : state.displayWelcomePage,\r\n            user               : state.user,\r\n            userLoaded         : state.userLoaded,\r\n            inactiveUser       : state.inactiveUser,\r\n            displaySignInUp    : state.displaySignInUp,\r\n            anonymousUser      : state.anonymousUser,\r\n            displayUserCP      : state.displayUserCP,\r\n            fetchedOnlineUsers : state.fetchedOnlineUsers\r\n        };\r\n      };\r\n\r\n\r\n function mapDispatchToProps(dispatch) {\r\n  return {\r\n    userInfo           : user          => dispatch(userInfo(user)),\r\n    openSigninup       : bol           => dispatch(openSigninup(bol)),\r\n    openUserCP         : bol           => dispatch(openUserCP(bol)),\r\n    userIsLoaded       : loaded        => dispatch(userIsLoaded(loaded)),\r\n    getUserKey         : userKey       => dispatch(getUserKey(userKey)),\r\n    setAnonymousUser   : anonymousUser => dispatch(setAnonymousUser(anonymousUser)),\r\n    getOnlineUsers     : onlineUsers   => dispatch(getOnlineUsers(onlineUsers)),\r\n    getConnectedTime   : connTime      => dispatch(getConnectedTime(connTime)),\r\n    setCountryAndFlag  : arr           => dispatch(setCountryAndFlag(arr)),\r\n    getUserIP          : ip            => dispatch(getUserIP(ip)),\r\n  };\r\n}\r\n\r\n\r\nclass ConnectedHeader extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n            user            : this.props.user,\r\n            userLoaded      : false,\r\n            userImgLetter   : '',\r\n            displayUserCP   : false,\r\n            userIP          : undefined,\r\n            userCountry     : '',\r\n            userCountryFlag : null,\r\n            \r\n\r\n    }\r\n\r\n    this.displayUserCp    = this.displayUserCp.bind(this);\r\n    this.openSignInSignUp = this.openSignInSignUp.bind(this);\r\n  }\r\n\r\nopenSignInSignUp() {\r\n  this.props.openSigninup({ displaySignInUp: !this.props.displaySignInUp })\r\n}\r\n\r\n\r\ncomponentDidMount() {\r\n    // GET ON USER IP\r\n  fetch('https://api.ipify.org/?format=json')\r\n  .then(res => res.json())\r\n  .then(data => {\r\n      // Call function to get user's country by user's ip\r\n      this.getUserCountry(data.ip);\r\n      this.setState({ userIP: data.ip })\r\n      this.props.getUserIP({ userIP: data.ip })\r\n\r\n      // Check if user is signed in or anonymous after 5 sec (welcome page loading time)\r\n      setTimeout(() => {\r\n      this.authListener();\r\n      },5000);\r\n    })\r\n  .catch((err) => {\r\n    // If unable to find ip, call anyway\r\n      // to check user\r\n      setTimeout(() => {\r\n       this.authListener();\r\n      },5000);\r\n    console.log(err);\r\n    })\r\n\r\n  // Update online users every 45 seconds\r\n  setInterval(() => {\r\n    this.fetchOnlineUsers();\r\n  },45000);\r\n}\r\n\r\n\r\ngetUserCountry(ip) {\r\n  // Search for online user's country using his ip\r\n  fetch('https://ipapi.co/'+ip+'/json/')\r\n  .then(data => data.json())\r\n  .then(res => {\r\n    this.setState({ userCountry: res.country_name})   \r\n    this.getAllCountries(res.country_name, res.country_code); \r\n    // Get visitor users info\r\n    this.trackUsersStats(ip,res.country_name,res.city);\r\n  })\r\n}\r\n\r\ngetAllCountries(userCountry,countryCode) {\r\n  // Search user's country flag by fetching all countries info\r\n  fetch('https://restcountries.eu/rest/v2/all')\r\n  .then(res => res.json()) \r\n  .then(data => {\r\n    for(let i=0; i<data.length;i++) {\r\n        // If fetched country match userCountry or countryCode (ro,it,sp,ru), setstate\r\n      if(data[i].name === userCountry || data[i].alpha2Code === countryCode) {\r\n        this.setState({ userCountryFlag: data[i].flag})\r\n       // Send props array with info about online user's country and flag\r\n       this.props.setCountryAndFlag({ userCountryAndFlag: [userCountry, data[i].flag] })\r\n      }\r\n    }\r\n  })\r\n}\r\n\r\nauthListener() {\r\n\r\n    // if user is logged in, set state user to user and use the data\r\n    firebase.auth().onAuthStateChanged((user) => {\r\n        if (user) {\r\n        // if new user is added to the auth page, set the user to the actually user\r\n        // after setstate, all info for the present user can be used \r\n        this.props.userInfo({ user: user })\r\n        // Set props to true to hide loading effect from 'Signed as ---' chat and display signed in user or anonymous\r\n        this.props.userIsLoaded({ userLoaded: true })\r\n        this.signedUserOn(user);\r\n        // Call function to get online users after checking if user is logged in\r\n        this.fetchOnlineUsers();\r\n      } else {\r\n        // If user was disconnected due to inactivity, avoid creating new anonymous user after being signed out\r\n        if(!this.props.inactiveUser) {\r\n         this.anonymousUserOn();\r\n        }\r\n        this.props.userInfo({ user: undefined })\r\n        // Call function to get online users after checking if user is logged in\r\n        this.fetchOnlineUsers();\r\n      }   \r\n    });\r\n}\r\n\r\nsignedUserOn(user) {\r\n   let databaseRef  = dbRef.child('onlineUsers').push(),\r\n      // Get time when user was connected\r\n      today         = new Date(),\r\n      time          = today.getHours() + \":\" + today.getMinutes(),\r\n      // Get first letter to be user as a profile img\r\n      userImgLetter = user.displayName.substring(0,1).toUpperCase();\r\n\r\n      databaseRef.set({\r\n          key           : databaseRef.key,\r\n          username      : user.displayName,\r\n          imgLetter     : userImgLetter,\r\n          connectedTime : time,\r\n          originDate    : today.toString(),\r\n          userIP        : this.state.userIP ? this.state.userIP : null,\r\n          country       : this.state.userCountry,\r\n          countryFlag   : this.state.userCountryFlag\r\n        }).then(() => {     \r\n          // Key used to be tracked and deleted on user from db\r\n          this.props.getUserKey({ userKey: databaseRef.key })\r\n          // Used to display loading effect\r\n          this.props.userIsLoaded({ userLoaded: true })\r\n          // Connected time - user for user CP\r\n          this.props.getConnectedTime({ connectedTime: time })\r\n          this.setState({ userLoaded: true, userImgLetter: userImgLetter })\r\n       \r\n        })\r\n        .catch((err) => console.log('Error: ' + err))\r\n}\r\n\r\n\r\nfetchOnlineUsers() {\r\n  let fetchedOnlineUsers = [],\r\n      self               = this;\r\n \r\n   getdbRefData.child('onlineUsers').on('value', gotData, errData);\r\n\r\n   function gotData(data) {\r\n    // the real value of data key\r\n    let onlineUsers = data.val();\r\n\r\n    // if there is data to retrive, retrieve\r\n    if (onlineUsers !== null) {\r\n\r\n      let keys = Object.keys(onlineUsers);\r\n      let key, username, imgLetter, connectedTime, id, originDate, userIP, country, countryFlag;\r\n\r\n      // Assign value for every variable\r\n        // Map through object, assing variable with any info about online user and push the info inside array\r\n      for (let i = 0; i < keys.length; i++) {\r\n          let k         = keys[i];\r\n          key           = onlineUsers[k].key;\r\n          username      = onlineUsers[k].username;\r\n          imgLetter     = onlineUsers[k].imgLetter;\r\n          connectedTime = onlineUsers[k].connectedTime;\r\n          id            = onlineUsers[k].id;\r\n          originDate    = onlineUsers[k].originDate;\r\n          userIP        = onlineUsers[k].userIP;\r\n          country       = onlineUsers[k].country;\r\n          countryFlag   = onlineUsers[k].countryFlag;\r\n\r\n\r\n        // Push all info about the online user inside array to be displayed\r\n        fetchedOnlineUsers.push({\r\n          key           : key,\r\n          username      : username,\r\n          imgLetter     : imgLetter,\r\n          connectedTime : connectedTime,\r\n          id            : id ? id : '',\r\n          originDate    : originDate,\r\n          userIP        : userIP,\r\n          country       : country,\r\n          countryFlag   : countryFlag\r\n        });\r\n      }\r\n    } else {\r\n      console.log('No data found'); \r\n    }\r\n    \r\n    // Get only the unique values from object array (info from firebase is comming duplicated every time, dunno why)\r\n    let uniqueKey =  Array.from(new Set(fetchedOnlineUsers.map(a => a.key)))\r\n      .map(key => {\r\n        return fetchedOnlineUsers.find(a => a.key === key);\r\n      });\r\n\r\n       \r\n  // AVOID DUPLICATED SIGNED IN USERS IN 'Online users' div\r\n\r\n       // If online user was not deleted ->\r\n      // Create an array with duplicated users\r\n      if(self.props.user !== undefined) {\r\n        let duplArray = [];\r\n        uniqueKey.forEach((msg) => {\r\n          if(msg.username === self.props.user.displayName) {\r\n                duplArray.push(msg);\r\n          } \r\n        })\r\n        \r\n      // Get first duplicated user and use the key to delete it from database\r\n      if(duplArray.length > 1) {\r\n        // Get key from the first user\r\n        let firstDuplKey = duplArray[0].key;\r\n        // Remove first duplicated online user from database\r\n        dbRef.child('onlineUsers').child(firstDuplKey).remove();\r\n        // Clear duplicated array (to avoid deleting all duplicated user, even the original)\r\n        duplArray = [];\r\n\r\n        // If user is logged in, loop through fetched online users, check key of the first\r\n          // duplicated user, and remove it from the online user container\r\n           // (Generally happens when user's browser is closed unusual (not closing tab with click on x))\r\n        let index;\r\n        for(let i=0;i<uniqueKey.length;i++) {\r\n          if(uniqueKey[i].key === firstDuplKey) {\r\n            index = uniqueKey.indexOf(uniqueKey[i])\r\n            uniqueKey.splice(index,1);\r\n          }\r\n        }\r\n      }\r\n    }\r\n    // CALL FUNCTION TO CHECK ONLINE USERS INACTIVITY \r\n        self.updateUsersOnline(uniqueKey);\r\n  }\r\n\r\n  function errData(err) {\r\n      console.log(err);\r\n  }\r\n}\r\n\r\nupdateUsersOnline(uniqueKey) {\r\n  // Check online users inactivity\r\n  // Delete inactive users from database\r\n\r\n  let userList = uniqueKey;\r\n  // Check user connected time\r\n  for(let i=0; i<userList.length;i++) {\r\n    // Calculate date difference (original first connected date - today's date)\r\n    let connectedTime = new Date(userList[i].originDate),\r\n    // Convert to positive number\r\n    millisec  = Math.abs(new Date() - connectedTime) / 1000,\r\n    // Transform to hours\r\n    hours     = Math.floor(millisec / 3600) % 24;\r\n    millisec -= hours * 3600;\r\n    \r\n    // If user inactivity time is higher than 2 hours, delete user from database\r\n      // When visiting page on mobile, closing page won't send a 'sendBeacon' to delete user \r\n    if(hours > 1) {\r\n      // Map through online user, find inactive user key and delete it\r\n      userList.forEach((user) => {\r\n        if(user.key === userList[i].key) {\r\n          let ind = userList.indexOf(user.key);\r\n          userList.splice(ind,1);\r\n          dbRef.child('onlineUsers').child(user.key).remove();\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  // Check by ip if signed in / anonymous user it's not duplicated\r\n    // inside online users box list\r\n  for(let i=0;i<userList.length;i++) {\r\n    if(userList[i].userIP === this.state.userIP) {\r\n      if(this.props.user !== undefined) {\r\n        if(userList[i].username !== this.props.user.displayName) {\r\n          let signedInd = userList.indexOf(userList[i].username);\r\n          userList.splice(signedInd,1);\r\n        }\r\n      } else {\r\n        if(userList[i].username !== this.props.anonymousUser.username) {\r\n          let anonInd = userList.indexOf(userList[i].username);\r\n          userList.splice(anonInd,1);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  // Render updated list\r\n  this.props.getOnlineUsers({ fetchedOnlineUsers: userList })\r\n}\r\n\r\nanonymousUserOn() {\r\n\r\n  let databaseRef      = dbRef.child('onlineUsers').push(),\r\n      // Extract some random numbers for the name\r\n      userRandomNumber = uuidv4(),\r\n      randomNumber     = userRandomNumber.substring(8,13),\r\n      // Get time when user was connected\r\n      today            = new Date(),\r\n      time             = today.getHours() + \":\" + today.getMinutes();\r\n\r\n      databaseRef.set({\r\n          key           : databaseRef.key,\r\n          username      : 'Anonymous'+randomNumber,\r\n          imgLetter     : 'A',\r\n          connectedTime : time,\r\n          originDate    : today.toString(),\r\n          userIP        : this.state.userIP ? this.state.userIP : null,\r\n          country       : this.state.userCountry,\r\n          countryFlag   : this.state.userCountryFlag\r\n        })\r\n\r\n      .then(() => {\r\n            // Set anonymous user info\r\n          let anonymousUser = {key: databaseRef.key, username: 'Anonymous'+randomNumber, imgLetter: 'A', connectedTime: time, originDate: today};            \r\n            // Set anonymous user info / Set onlineUserKey\r\n          this.props.getUserKey({ userKey: databaseRef.key })\r\n          this.props.setAnonymousUser({ anonymousUser: anonymousUser })\r\n          this.props.userIsLoaded({ userLoaded: true })\r\n          this.props.userInfo({ user: undefined })\r\n          this.setState({ userLoaded: true })\r\n        })\r\n      .catch((err) => console.log('Error: ' + err))\r\n}\r\n\r\n\r\ndisplayUserCp() {\r\n  let displayUserCP = this.props.displayUserCP;\r\n\r\n    // Check if displayUserCP - If userCp container is rendered or not\r\n    if(displayUserCP) {\r\n      // Hide user cp box and destroy it\r\n      document.querySelector('.usercp_container').classList.remove('usercp_open');\r\n      setTimeout(() => {\r\n       this.props.openUserCP({ displayUserCP: false })\r\n      },500);\r\n    } else {\r\n      // Render user cp box and display it with delay \r\n      this.props.openUserCP({ displayUserCP: true })\r\n      setTimeout(() => {\r\n          document.querySelector('.usercp_container').classList.add('usercp_open');\r\n       },350);\r\n    }\r\n}\r\n\r\ntrackUsersStats(ip,country,city) {\r\n\r\n let  fetchedVisitors = [],\r\n      databaseRef     = dbRef.child('visitorsInfo').push();\r\n       \r\n   // Fetch visitorsInfo ref from DB\r\n   getdbRefData.child('visitorsInfo').on('value', gotData, errData);\r\n\r\n   function gotData(data) {\r\n    // The real value of data key\r\n    let visitorsInfo = data.val();\r\n    // If there is data to retrive, retrieve\r\n    if (visitorsInfo !== null) {\r\n      let keys = Object.keys(visitorsInfo);\r\n      let key, ip, country, city, date;\r\n\r\n      // Assign value for every variable\r\n        // Map through object, assing variable with any info about online user and push the info inside array\r\n      for (let i = 0; i < keys.length; i++) {\r\n          let k         = keys[i];\r\n          key           = visitorsInfo[k].key;\r\n          ip            = visitorsInfo[k].ip;\r\n          country       = visitorsInfo[k].country;\r\n          city          = visitorsInfo[k].city;\r\n          date          = visitorsInfo[k].date;\r\n\r\n        // Push all info about the online user inside array to be displayed\r\n        fetchedVisitors.push({ key: key, ip: ip, country: country, city: city, date: date });\r\n      }\r\n    } \r\n    // Get only the unique values from object array (info from firebase is comming duplicated every time, dunno why)\r\n    let visitors =  Array.from(new Set(fetchedVisitors.map(a => a.key)))\r\n      .map(key => {\r\n        return fetchedVisitors.find(a => a.key === key);\r\n      });\r\n\r\n      let newVisitor = true;\r\n\r\n    // Loop through visitors while newVisitors remains true\r\n    for(let i=0;i<visitors.length && newVisitor;i++) {\r\n      // If new visitor's ip is found, set to false to stop looping\r\n      if(visitors[i].ip === ip) {\r\n        newVisitor = false;\r\n      } \r\n    }\r\n    // If newVisitors remains true, add it to database\r\n    if(newVisitor) {\r\n      databaseRef.set({ key: databaseRef.key, ip: ip, country: country, city: city, date: new Date().toString() })\r\n    }\r\n\r\n  }\r\n  function errData(err) {\r\n      console.log(err);\r\n  }\r\n}\r\n\r\n  render() {\r\n    let user = this.props.user !== undefined;\r\n    \r\n    return (\r\n      <div>\r\n         {user && this.props.displayUserCP &&  (\r\n           <UserCP />\r\n             )}\r\n        <div className='col-12 header_container'>\r\n          <div className='row'>\r\n            <div className='head_sect head_f_sect col-6 col-md-6 col-lg-6'>\r\n              <div className='row'>\r\n                <div className='head_logo'>\r\n                  <a href='https://sionut0122.github.io/LiveChatV2.0/' className='head_logo_img'>.</a>\r\n                  <a href='https://sionut0122.github.io/LiveChatV2.0/' className='head_logo_txt' tabIndex='0'>Live\r\n                    <span>Chat</span>\r\n                    <span>V2.0</span>\r\n                  </a>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className='head_sect head_s_sec col-6 col-md-6 col-lg-6'>\r\n              <div className='row'>\r\n\r\n              {/* If user is not signed in, allow render Sign in / Sign up container */}\r\n              \r\n              {!user ? (\r\n                <div className='wrap_signinup ml-auto' onClick={this.openSignInSignUp} tabIndex='0'>\r\n                  <span className='signinup_button'>Sign In / Sign up</span>\r\n                </div>\r\n                ):(\r\n                 <div className='wrap_signedin_user ml-auto'>\r\n                  <div className='row justify-content-center'>\r\n                  {!this.state.userLoaded ? (\r\n                    <div className='si_load_user'>\r\n                      <div></div><div></div><div></div>\r\n                    </div>\r\n                    ):(\r\n                    <div>\r\n                      <span className='head_signedin_user_name'>\r\n                        <div className='row'>\r\n                          <span className='head_signedin_user_icon'>{this.state.userImgLetter}</span>\r\n                          <span className='h_sin_usertxt'>{user && ( this.props.user.displayName )}</span>\r\n                        </div>\r\n                        <div className='row'>\r\n                          <span className='head_view_prof' onClick={this.displayUserCp} tabIndex='0'>View profile</span>\r\n                        </div>\r\n                      </span>\r\n                    </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n                )}\r\n\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n  \r\nconst Header = connect(mapStateToProps,mapDispatchToProps)(ConnectedHeader);\r\nexport default Header;\r\n","import React            from 'react';\r\nimport firebase         from '@firebase/app';\r\nimport { connect      } from \"react-redux\";\r\nimport { userInfo     } from '../actions/index';\r\nimport { openSigninup } from '../actions/index';\r\nimport { getChatMsg   } from '../actions/index';\r\nimport dbRef            from '../firebase';\r\nimport getdbRefData     from '../firebase';\r\nimport '../css/Signinup.css';\r\nimport 'firebase/auth';\r\n\r\n\r\n\r\n\r\nconst mapStateToProps = state => {\r\n  return {  user            : state.user,\r\n            displaySignInUp : state.displaySignInUp,\r\n            userKey         : state.userKey,\r\n            fetchedChatMsg  : state.fetchedChatMsg\r\n        };\r\n      };\r\n\r\n\r\n function mapDispatchToProps(dispatch) {\r\n    return {\r\n      userInfo     : user => dispatch(userInfo(user)),\r\n      openSigninup : bol  => dispatch(openSigninup(bol)),\r\n      getChatMsg   : arr  => dispatch(getChatMsg(arr))\r\n    };\r\n}\r\n\r\n\r\nclass ConnectedSignInUp extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n                    user                    : this.props.user,\r\n                    displaySignInUp         : this.props.displaySignInUp,\r\n                    displaySignIn           : true,\r\n                    signinEmail             : '',\r\n                    signinEmailValid        : false,\r\n                    invalidSignInEmail      : false,\r\n                    signinPassword          : '',\r\n                    signinPasswordValid     : false,\r\n                    invalidSignInPass       : false,\r\n                    displaySigninLoading    : false,\r\n\r\n                    signupEmail             : '',\r\n                    signupEmailValid        : false,\r\n                    signupUsername          : '',\r\n                    signupUsernameValid     : false,\r\n                    signupPassword          : '',\r\n                    signupPasswordValid     : false,\r\n                    signupInvalidEmail      : false,\r\n                    signupEmailInUse        : false,\r\n                    signupInvalidUsername   : false,\r\n                    signupInvalidPassword   : false,\r\n                    invalidUserOrPassword   : false,\r\n                    fetchSignedUpUsernames  : [],\r\n                    usernameExists          : false,\r\n\r\n                    openForgotPass          : false,\r\n                    forgotPassEmail         : '',\r\n                    forgotPassEmailValid    : false,\r\n                    forgotPassEmailSent     : false,\r\n                    forgotPassEmailNotValid : false,\r\n    } \r\n\r\n    this.handleSignUpModalClick = this.handleSignUpModalClick.bind(this);\r\n    this.sendNewPasswordButton  = this.sendNewPasswordButton.bind(this);\r\n    this.openForgotPass         = this.openForgotPass.bind(this);\r\n    this.handleSignInButton     = this.handleSignInButton.bind(this);\r\n    this.handleSignUpButton     = this.handleSignUpButton.bind(this);\r\n  }\r\n\r\n\r\ncomponentDidMount() {\r\n  document.querySelector('.signup_b_butt').setAttribute('style', 'box-shadow: inset 8px -7px 2px -7px rgba(0,0,0,0.4);font-size:10px;color:#000');\r\n  // Fetch accounts usernames when sign up/in container is rendered\r\n  this.fetchSignedUpUsernames();\r\n}\r\n\r\n// SIGN IN / UP ACTIONS\r\n\r\ndisplaySignIn(e) {\r\n  let signUpButton = document.querySelector('.signup_b_butt');\r\n  // Open signin box, add signin inset shadow and remove signup box inset shadow\r\n  e.target.removeAttribute('style');\r\n  signUpButton.setAttribute('style', 'box-shadow: inset 8px -7px 2px -7px rgba(0,0,0,0.4);font-size:10px;color:#000;');\r\n  this.setState({ displaySignIn: true })\r\n}\r\n\r\ndisplaySignUp(e) {\r\n  let signInButton = document.querySelector('.signin_b_butt');\r\n  // Open signup box, add signup inset shadow and remove signin box inset shadow\r\n  e.target.removeAttribute('style');\r\n  signInButton.setAttribute('style', 'box-shadow: inset -8px -7px 2px -7px rgba(0,0,0,0.4);font-size:10px;color:#000;');\r\n  // Display Sign up box / Close Forgot Password box if it was rendered\r\n  this.setState({ displaySignIn: false, openForgotPass: false })\r\n}\r\n\r\n\r\n// SIGN IN ACTIONS  //\r\n\r\n\r\nhandleSignInEmail(e) {\r\n   let mailformat = /^\\w+([-]?\\w+)*@\\w+([-]?\\w+)*(\\.\\w{2,3})+$/,\r\n       emailValue = e.target.value;\r\n\r\n      // If input mail match, setstate value\r\n    if(emailValue.match(mailformat)) {\r\n        this.setState({signinEmail: emailValue, signinEmailValid: true})\r\n    } else if(emailValue.length === 0) {\r\n      // If input is empty, reset value input\r\n        this.setState({signinEmail: '', signinEmailValid: false})\r\n    } else {\r\n        this.setState({signinEmail: '', signinEmailValid: false})\r\n    }\r\n}\r\n\r\nhandleSignInPassword(e) {\r\n    let passwordValue       = e.target.value,\r\n    // Check password length to be higher than 1 characters\r\n      checkPasswordLength = passwordValue.length >= 1,\r\n    // Check for blank spaces\r\n      checkWhiteSpaces    = passwordValue.trim().length === passwordValue.length;\r\n  \r\n \r\n      // if password value match, setstate value \r\n    if(checkPasswordLength && checkWhiteSpaces) {\r\n        this.setState({signinPassword: passwordValue, signinPasswordValid: true})\r\n    } else if(passwordValue.length === 0) {\r\n      // If input is empty, reset value input\r\n        this.setState({signinPassword: '', signinPasswordValid: false})\r\n    } else {\r\n        this.setState({signinPassword: passwordValue, signinPasswordValid: false})\r\n    }\r\n}\r\n\r\nshowHideSignInPass(e) {\r\n  let showHideButton  = e.target;\r\n\r\n  if(showHideButton.classList.contains('hide_sigin_pass')) {\r\n    showHideButton.classList.remove('hide_sigin_pass');\r\n    // Show password and focus on input password\r\n    showHideButton.setAttribute('title', 'Show password');\r\n    document.querySelector('.siu_signin_password_input').setAttribute('type','password');\r\n    document.querySelector('.siu_signin_password_input').focus();\r\n  } else {\r\n    // Hide password and focus on input password\r\n    showHideButton.classList.add('hide_sigin_pass');\r\n    showHideButton.setAttribute('title', 'Hide password');\r\n    document.querySelector('.siu_signin_password_input').setAttribute('type','text');\r\n    document.querySelector('.siu_signin_password_input').focus();\r\n  }\r\n}\r\n\r\nhandleKeyDownSignIn(e) {\r\n\r\n  if(e.keyCode === 13 || e.key === 'Enter') {\r\n    this.handleSignInButton();\r\n  }\r\n}\r\n\r\nhandleSignInButton() {\r\n  // Clear any error msg\r\n   this.setState({ invalidSignInEmail: false, invalidSignInPass: false })\r\n\r\n  if(this.state.signinEmailValid) {\r\n    if(this.state.signinPasswordValid) {\r\n        // Call function if all inputs meets req\r\n        this.signIn();\r\n    } else {\r\n      this.setState({ invalidSignInPass: true })\r\n    }\r\n  } else {\r\n    this.setState({ invalidSignInEmail: true })\r\n  }\r\n}\r\n\r\nsignIn() {\r\n\r\n    // Display loading ring\r\n  this.setState({ displaySigninLoading: true })\r\n    // Hide closing button from Signinup container\r\n  document.querySelector('.signinup_closebox').style.display = 'none';\r\n    // Try to sign in\r\n  firebase.auth().signInWithEmailAndPassword(this.state.signinEmail, this.state.signinPassword)\r\n    .then((u) => {\r\n        // Remove anonymous user after signing in\r\n        dbRef.child('onlineUsers').child(this.props.userKey).remove();\r\n        // Fade ou signin/up container after signing in\r\n        setTimeout(()=> {  \r\n        document.querySelector('.signinup_container').setAttribute('style','transition:0.5s ease-in;top:-550px !important;opacity:0');\r\n        },1000);\r\n        // Hide loading ring after 1.5s\r\n        setTimeout(()=> {\r\n        this.setState({ displaySigninLoading: false })  \r\n        },1500);\r\n        // Hide signin/up container\r\n        setTimeout(()=> {\r\n        this.props.openSigninup({ displaySignInUp: false })  \r\n        },2000);\r\n        // Remove bot chat message after signin\r\n        let chatMsg = [...this.props.fetchedChatMsg];\r\n        chatMsg.forEach((msg) => {\r\n          if(msg.username === 'BOT') {\r\n            let ind = chatMsg.indexOf(msg);\r\n            chatMsg.splice(ind,1);\r\n          }\r\n        })\r\n        this.props.getChatMsg({ fetchedChatMsg: chatMsg })\r\n        \r\n     }).catch((error) => {\r\n      if (error.code === 'auth/invalid-email') {\r\n          // Display 'Invalid email' message\r\n          this.setState({ invalidSignInEmail: true, displaySigninLoading: false })\r\n      } else if(error.code === 'auth/user-not-found' || error.code === 'auth/wrong-password') {\r\n          this.setState({ invalidUserOrPassword: true, displaySigninLoading: false  })\r\n      } \r\n  });  \r\n}\r\n\r\n\r\n// FORGOT PASSWORD ACTIONS //\r\n\r\n\r\nopenForgotPass() {\r\n   let openForgotPass = this.state.openForgotPass;\r\n\r\n    // If forgot pass container is rendered or not\r\n    if(openForgotPass) {\r\n      \r\n      // Hide forgotpass box and destroy it\r\n      document.querySelector('.forgot_password_cont').classList.remove('forgotpass_open');\r\n      setTimeout(() => {\r\n       this.setState({ openForgotPass: false })\r\n      },500);\r\n    } else {\r\n      // Render forgotpass box and display it with delay \r\n      this.setState({ openForgotPass: true })\r\n      setTimeout(() => {\r\n          document.querySelector('.forgot_password_cont').classList.add('forgotpass_open');\r\n       },350);\r\n    }\r\n}\r\n\r\nhandleForgotPassInput(e) {\r\n    /* Old one - /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/ */\r\n   let mailformat = /^\\w+([-]?\\w+)*@\\w+([-]?\\w+)*(\\.\\w{2,3})+$/,\r\n       emailValue = e.target.value;\r\n\r\n      // If input mail match, setstate value\r\n    if(emailValue.match(mailformat)) {\r\n        this.setState({forgotPassEmail: emailValue, forgotPassEmailValid: true})\r\n    } else if(emailValue.length === 0) {\r\n      // If input is empty, reset value input\r\n        this.setState({forgotPassEmail: '', forgotPassEmailValid: false})\r\n    } else {\r\n        this.setState({forgotPassEmail: '', forgotPassEmailValid: false})\r\n    }\r\n}\r\n\r\nhandleForgotPassInputKey(e) {\r\n  if(e.key === 'Enter') {\r\n    this.sendNewPasswordButton();\r\n  }\r\n}\r\n\r\nsendNewPasswordButton() {\r\n    // If email is valid, proceed\r\n    if(this.state.forgotPassEmailValid) {\r\n      firebase.auth().sendPasswordResetEmail(this.state.forgotPassEmail)\r\n      .then(() => {\r\n        // Display 'Your new password has been sent' message and change 'Send new password' innerHTML\r\n        this.setState({ forgotPassEmailSent: true, forgotPassEmailNotValid: false, forgotPassEmailNotFound: false })\r\n        document.querySelector('.forgotpass_button').innerHTML = 'Resend password';\r\n       })\r\n      .catch((err) => {\r\n        // If email was not found inside database, display message\r\n        if(err.code === 'auth/user-not-found') {\r\n          this.setState({ forgotPassEmailNotFound: true, forgotPassEmailSent: false, forgotPassEmailNotValid: false })\r\n        }\r\n      })\r\n    } else {\r\n            // If email is not valid, send new database\r\n          this.setState({ forgotPassEmailNotValid: true, forgotPassEmailSent: false, forgotPassEmailNotFound: false })\r\n    }   \r\n}\r\n\r\n\r\n// SIGN UP ACTIONS //\r\n\r\n\r\nhandleSignUpEmail(e) {\r\n  let mailformat = /^\\w+([-]?\\w+)*@\\w+([-]?\\w+)*(\\.\\w{2,3})+$/,\r\n      emailValue = e.target.value;\r\n\r\n    // If input mail match, setstate value\r\n  if(emailValue.match(mailformat)) {\r\n      this.setState({signupEmail: emailValue, signupEmailValid: true})\r\n  } else if(emailValue.length === 0) {\r\n    // If input is empty, reset value input\r\n      this.setState({signupEmail: '', signupEmailValid: false})\r\n  } else {\r\n      this.setState({signupEmail: '', signupEmailValid: false})\r\n  }\r\n}\r\n\r\nhandleSignUpUsername(e) {\r\n   let usernameValue      = e.target.value,\r\n    // Check if username characters matches\r\n      checkUsername       =  usernameValue.split('').every(x => x.match(/[a-zA-Z0-9]+/g)),\r\n    // Check username length to be between 3 and 15 characters\r\n      checkUsernameLength = usernameValue.length >= 3,\r\n    // Check for blank spaces\r\n      checkWhiteSpaces    = usernameValue.trim().length === usernameValue.length;\r\n  \r\n      // if username value match, setstate value \r\n    if(checkUsername && checkUsernameLength && checkWhiteSpaces) {\r\n        this.setState({signupUsername: usernameValue, signupUsernameValid: true})\r\n    } else if(usernameValue.length === 0) {\r\n      // If input is empty, reset value input\r\n        this.setState({signupUsername: '', signupUsernameValid: false})\r\n    } else {\r\n        this.setState({signupUsername: usernameValue, signupUsernameValid: false})\r\n    }\r\n}\r\n\r\nhandleSignUpPassword(e) {\r\n    let passwordValue     = e.target.value,\r\n    // Check password length to be higher or equal than 6 characters\r\n      checkPasswordLength = passwordValue.length >= 6,\r\n    // Check for blank spaces\r\n      checkWhiteSpaces    = passwordValue.trim().length === passwordValue.length;\r\n  \r\n \r\n      // if password value match, setstate value \r\n    if(checkPasswordLength && checkWhiteSpaces) {\r\n        this.setState({signupPassword: passwordValue, signupPasswordValid: true})\r\n    } else if(passwordValue.length === 0) {\r\n      // If input is empty, reset value input\r\n        this.setState({signupPassword: '', signupPasswordValid: false})\r\n    } else {\r\n        this.setState({signupPassword: passwordValue, signupPasswordValid: false})\r\n    }\r\n}\r\n\r\nshowHideSignUpPass(e) {\r\n  let showHideButton  = e.target;\r\n\r\n  if(showHideButton.classList.contains('hide_sigin_pass')) {\r\n    showHideButton.classList.remove('hide_sigin_pass');\r\n    showHideButton.setAttribute('title', 'Show password');\r\n    // Show password and focus on input password\r\n    document.querySelector('.siu_signup_password_input').setAttribute('type','password');\r\n    document.querySelector('.siu_signup_password_input').focus();\r\n  } else {\r\n    // Hide password and focus on input password\r\n    showHideButton.classList.add('hide_sigin_pass');\r\n    showHideButton.setAttribute('title', 'Hide password');\r\n    document.querySelector('.siu_signup_password_input').setAttribute('type','text');\r\n    document.querySelector('.siu_signup_password_input').focus();\r\n  }\r\n}\r\n\r\nhandleSignUpButton() {\r\n  // Clear all sign up errors\r\n  this.setState({ signupInvalidEmail: false, signupInvalidUsername: false ,signupInvalidPassword: false})\r\n\r\n  if(this.state.signupEmailValid) {\r\n    // Clear invalid email / email in use messages\r\n    this.setState({ signupInvalidEmail: false, signupEmailInUse: false })\r\n      if(this.state.signupUsernameValid) {\r\n        // Clear invalid username message\r\n        this.setState({ signupInvalidUsername: false })\r\n          if(this.state.signupPasswordValid) {\r\n             this.setState({ signupInvalidPassword: false })\r\n                     // Check if chosen username already exists inside database\r\n                 let usernames = this.state.fetchSignedUpUsernames,\r\n                     arr       = usernames.filter((username) => username.toLowerCase() === this.state.signupUsername.toLowerCase());\r\n                     // Check if username is already taken\r\n                    if(arr.length > 0) {\r\n                     // If username exists, display error message\r\n                      this.setState({ usernameExists: true })\r\n                    } else {\r\n                       // Call function to create account\r\n                      this.createAccount();\r\n                    }\r\n          } else {\r\n            this.setState({ signupInvalidPassword: true })\r\n          }\r\n      } else {\r\n        this.setState({ signupInvalidUsername: true })\r\n      }\r\n  } else {\r\n    // Set invalid email message\r\n    this.setState({ signupInvalidEmail: true })\r\n  }\r\n}\r\n\r\nhandleKeyDownSignUp(e) {\r\n  if(e.keyCode === 13 || e.key === 'Enter') {\r\n    this.handleSignUpButton();\r\n  }\r\n}\r\n\r\ncreateAccount() {\r\n  // Display loading ring\r\n  this.setState({ displaySigninLoading: true })\r\n\r\n  // Hide user section while loading\r\n  document.querySelector('.head_s_sec').style.opacity = '0';\r\n  // Hide closing button from Signinup container\r\n  document.querySelector('.signinup_closebox').style.display = 'none';\r\n  // Send signup email and password to firebase auth\r\n  firebase.auth().createUserWithEmailAndPassword(this.state.signupEmail, this.state.signupPassword)\r\n      .then((u) => {\r\n        // Call function to update user info (username)\r\n        this.updateNewAccountInfo();\r\n        // Display user section after loading\r\n        setTimeout(()=> {\r\n          document.querySelector('.head_s_sec').style.opacity = '1';\r\n        },2000);\r\n        // Fade out signup/in container to top after signing up\r\n        document.querySelector('.signinup_container').setAttribute('style','transition:0.5s ease-in;top:-550px !important;opacity:0');\r\n        // Set states to default / clear inputs if there is any value inside\r\n        this.setState({\r\n            signupEmail          : '',\r\n            signupEmailValid     : false,\r\n            signupUsername       : '',\r\n            signupUsernameValid  : false,\r\n            signupPassword       : '',\r\n            signupPasswordValid  : false,\r\n            signupEmailInUse     : false,\r\n            signupInvalidEmail   : false\r\n        })\r\n      \r\n      }).catch((error) => {\r\n        if (error.code === 'auth/email-already-in-use') {\r\n           this.setState({ signupEmailInUse: true})\r\n        }\r\n    })\r\n}\r\n\r\nupdateNewAccountInfo() {\r\n    // After account was created, update user info\r\n    let user              = firebase.auth().currentUser,\r\n        signedUpUsernames = dbRef.child('signedUpUsernames').push();\r\n\r\n    // Push signed up username to database to check them lately if already exists\r\n      // when new user is signing up\r\n    signedUpUsernames.set({ username:  this.state.signupUsername })\r\n\r\n    user.updateProfile({\r\n      // Use displayName to store the Username\r\n      displayName: this.state.signupUsername\r\n    }).then(() => {\r\n      window.location.reload();\r\n    })\r\n}\r\n\r\nhandleSignUpModalClick() {\r\n  // Close Sign in/Sign up container when clicking outside the box\r\n    this.props.openSigninup({ displaySignInUp: false })\r\n}\r\n\r\nfetchSignedUpUsernames() {\r\n  let self             = this,\r\n      fetchedUsernames = [];\r\n\r\n   getdbRefData.child('signedUpUsernames').on('value', gotData, errData);\r\n\r\n    function gotData(data) {\r\n    // the real value of data key\r\n    let signedUpUsernames = data.val();\r\n    // if there is data to retrive, retrieve\r\n    if (signedUpUsernames !== null) {\r\n      let keys = Object.keys(signedUpUsernames);\r\n      let username;\r\n\r\n      // Assign value for every variable\r\n        // Map through object, assing variable with any info about usernames and push them inside array\r\n      for (let i = 0; i < keys.length; i++) {\r\n        let k     = keys[i];\r\n        username  = signedUpUsernames[k].username;\r\n\r\n        // Push all info about the online user inside array to be displayed\r\n        fetchedUsernames.push({ username:  username });\r\n      }\r\n    }\r\n\r\n    // Extract usernames as strings and push them inside array\r\n    let usernames = [];\r\n     fetchedUsernames.map((obj) => usernames.push(obj.username));\r\n     self.setState({ fetchSignedUpUsernames: usernames })\r\n  }\r\n\r\n  function errData(err) {\r\n    console.log(err);\r\n  }\r\n}\r\n \r\n\r\n  render() {\r\n    return (\r\n        <div>\r\n          <div className='signup_black_modal' onClick={this.handleSignUpModalClick}></div>\r\n            <div className='signinup_container col-11 col-sm-10 col-md-8 col-lg-7 col-xl-5' tabIndex='0'>\r\n\r\n              {/* Signin loading effect */}\r\n              {this.state.displaySigninLoading && (\r\n              <div className='signin_loading_eff'>\r\n                <div className='loading_chat_eff'>\r\n                  <div></div><div></div><div></div><div></div>\r\n                  <div></div><div></div><div></div><div></div>\r\n                </div>\r\n              </div>\r\n              )}\r\n\r\n              <span className='signinup_closebox'><span onClick={this.handleSignUpModalClick} tabIndex='0'></span></span>\r\n              <div className='row justify-content-center'>\r\n\r\n                {/* Sign in / Sign up buttons */}\r\n                <div className='signinup_buttons col-12'>\r\n                  <div className='row'>\r\n                    <div className='siu_b_ signin_b_butt col-6' onClick={(e)=>this.displaySignIn(e)} tabIndex='0' >\r\n                      <span>Sign In</span>\r\n                    </div>\r\n                    <div className='siu_b_ signup_b_butt col-6' onClick={(e)=>this.displaySignUp(e)} tabIndex='0'>\r\n                      <span>Sign Up</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className='signinup_sect col-12'>\r\n                    <div className='row justify-content-center'>\r\n                      {this.state.displaySignIn ? (\r\n                      <div className='signin_box col-12'>\r\n\r\n                        {/* Forgot password container */}\r\n                        {this.state.openForgotPass && (\r\n                          <div className='forgot_password_cont col-12'>\r\n                            <div className='row justify-content-center'>\r\n                              <span className='forgotpass_title'>Forgot password</span>\r\n                            </div>\r\n                             <div className='row justify-content-center'>\r\n                              <span className='forgotpass_subtitle'>\r\n                                No Problem! Enter your email below and we will\r\n                                send you an email with the instructions to reset your password.\r\n                              </span>\r\n                            </div>\r\n                             <div className='row justify-content-center'>\r\n                              <span className='forgotpass_inputwrap'>\r\n                                <input type         = 'text' \r\n                                       tabIndex     = '0'\r\n                                       placeholder  = 'Email' \r\n                                       autoComplete = 'off'\r\n                                       className    = 'forgotpass_input' \r\n                                       onClick      = {(e) => {e.target.focus()}}\r\n                                       onChange     = {(e) => this.handleForgotPassInput(e)}\r\n                                       onKeyDown    = {(e) => this.handleForgotPassInputKey(e)}>\r\n                                </input> \r\n                              </span>\r\n                            </div>\r\n                            {this.state.forgotPassEmailNotValid && (\r\n                            <div className='row justify-content-center'>\r\n                              <span className='forgotpass_invalidemail'>\r\n                                Invalid email.\r\n                              </span>\r\n                            </div>\r\n                            )}\r\n                            {this.state.forgotPassEmailNotFound && (\r\n                            <div className='row justify-content-center'>\r\n                              <span className='forgotpass_emailnotfound'>\r\n                                Email not found. Please sign up.\r\n                              </span>\r\n                            </div>\r\n                            )}\r\n                            {this.state.forgotPassEmailSent && (\r\n                            <div className='row justify-content-center'>\r\n                              <span className='forgotpass_passsentmsg'>\r\n                                Your new password has been sent.\r\n                              </span>\r\n                            </div>\r\n                            )}\r\n                            <div className='row justify-content-center'>\r\n                              <span className='forgotpass_button' onClick={this.sendNewPasswordButton} tabIndex='0'>Send new password</span>\r\n                            </div>\r\n                            <div className='row justify-content-center'>\r\n                              <span className='forgotpass_cancelbutton' onClick={this.openForgotPass} tabIndex='0'>Cancel</span>\r\n                            </div>\r\n                          </div>\r\n                        )}\r\n                        {/* End of Forgot password container */}\r\n\r\n\r\n                        {/* Sign in & Sign up container */}\r\n                        <div className='row justify-content-center'>\r\n                          <span className='siu_signin_icon'></span>\r\n                        </div>\r\n                        <div className='row justify-content-center'>\r\n                          <span className='siu_signin_title' tabIndex='0'>Sign in</span>\r\n                        </div>\r\n                        <div className='row justify-content-center'>\r\n                          <span className='siu_signin_email_inputwrap'>\r\n                            <input type='text' \r\n                                   className    = 'siu_signin_email_input' \r\n                                   placeholder  = 'Email'\r\n                                   tabIndex     = '0'\r\n                                   autoComplete = 'off'\r\n                                   onClick      = {(e) => {e.target.focus()}} \r\n                                   onChange     = {(e) => this.handleSignInEmail(e)} \r\n                                   onKeyDown    = {(e) => this.handleKeyDownSignIn(e)}>\r\n                            </input>\r\n                          </span>\r\n                        </div>\r\n                        {this.state.invalidSignInEmail && (\r\n                        <div className='row justify-content-center'>\r\n                          <span className='siu_signin_error'>Invalid email</span>\r\n                        </div>\r\n                        )}\r\n                        <div className='row justify-content-center'>\r\n                          <span className='siu_signin_password_inputwrap'>\r\n                            <input type         = 'password' \r\n                                   className    = 'siu_signin_password_input' \r\n                                   placeholder  = 'Password' \r\n                                   tabIndex     = '0'\r\n                                   autoComplete = 'off'\r\n                                   onChange     = {(e) => this.handleSignInPassword(e)} \r\n                                   onKeyDown    = {(e) => this.handleKeyDownSignIn(e)}>\r\n                            </input>\r\n                            <span className='siu_pass_showhidepass'>\r\n                              <span className='show_hide_pass_icon' title='Show password' tabIndex='0' onClick={(e)=>this.showHideSignInPass(e)}></span>\r\n                            </span>\r\n                          </span>\r\n                        </div>\r\n                        {this.state.invalidSignInPass && (\r\n                        <div className='row justify-content-center'>\r\n                          <span className='siu_signin_error'>Invalid password</span>\r\n                        </div>\r\n                        )}\r\n                        {this.state.invalidUserOrPassword && (\r\n                        <div className='row justify-content-center'>\r\n                          <span className='siu_signin_error'>User not found or invalid password</span>\r\n                        </div>\r\n                        )}\r\n                        <div className='row justify-content-center'>\r\n                          <span className='siu_forgotpassword' onClick={this.openForgotPass} tabIndex='0'>Forgot password</span>\r\n                        </div>\r\n                        <div className='row justify-content-center'>\r\n                          <span className='siu_signin_button' onClick={this.handleSignInButton} tabIndex='0'>Sign In</span>\r\n                        </div>\r\n                      </div>\r\n                      ):(\r\n                      <div className='signup_box col-12'>\r\n                        \r\n                        <div className='row justify-content-center'>\r\n                          <span className='siu_signup_icon'></span>\r\n                        </div>\r\n                        <div className='row justify-content-center'>\r\n                          <span className='siu_signup_title' tabIndex='0'>Sign Up</span>\r\n                        </div>\r\n                        <div className='row justify-content-center'>\r\n                          <span className='siu_signup_email_inputwrap'>\r\n                            <input type='text' \r\n                                   className    = 'siu_signup_email_input' \r\n                                   placeholder  = 'Email' \r\n                                   tabIndex     = '0'\r\n                                   autoComplete = 'off'\r\n                                   onClick      = {(e) => {e.target.focus()}} \r\n                                   onChange     = {(e) => this.handleSignUpEmail(e)} \r\n                                   onKeyDown    = {(e) => this.handleKeyDownSignUp(e)}>\r\n                            </input>\r\n                          </span>\r\n                        </div>\r\n                        {this.state.signupInvalidEmail && (\r\n                        <div className='row justify-content-center'>\r\n                          <span className='siu_signup_emailerror'>Invalid email.</span>\r\n                        </div>\r\n                        )}\r\n                        {this.state.signupEmailInUse && (\r\n                        <div className='row justify-content-center'>\r\n                          <span className='siu_signup_emailinuse'>Email already in use.</span>\r\n                        </div>\r\n                        )}\r\n                        <div className='row justify-content-center'>\r\n                          <span className='siu_signup_username_inputwrap'>\r\n                            <input type='text' \r\n                                   className    = 'siu_signup_username_input' \r\n                                   placeholder  = 'Username' \r\n                                   maxLength    = '40'\r\n                                   tabIndex     = '0'\r\n                                   autoComplete = 'off'\r\n                                   onClick      = {(e) => {e.target.focus()}} \r\n                                   onChange     = {(e) => this.handleSignUpUsername(e)} \r\n                                   onKeyDown    = {(e) => this.handleKeyDownSignUp(e)}>\r\n                            </input>\r\n                          </span>\r\n                        </div>\r\n                        {this.state.signupInvalidUsername && (\r\n                        <div className='row justify-content-center'>\r\n                          <span className='siu_signup_usernameerror'>Invalid username. Username must have at least 3 characters</span>\r\n                        </div>\r\n                        )}\r\n                        {this.state.usernameExists && (\r\n                        <div className='row justify-content-center'>\r\n                          <span className='siu_signup_usernameerror'>Username already taken.</span>\r\n                        </div>\r\n                        )}\r\n                        <div className='row justify-content-center'>\r\n                          <span className='siu_signup_password_inputwrap'>\r\n                            <input type         = 'password' \r\n                                   className    = 'siu_signup_password_input' \r\n                                   placeholder  = 'Password' \r\n                                   tabIndex     = '0'\r\n                                   autoComplete = 'off'\r\n                                   onClick      = {(e) => {e.target.focus()}} \r\n                                   onChange     = {(e) => this.handleSignUpPassword(e)} \r\n                                   onKeyDown    = {(e) => this.handleKeyDownSignUp(e)}>\r\n                            </input>\r\n                            <span className='siu_pass_showhidepass'>\r\n                              <span className='show_hide_pass_icon' title='Show password' onClick={(e)=>this.showHideSignUpPass(e)}></span>\r\n                            </span>\r\n                          </span>\r\n                        </div>\r\n                        {this.state.signupInvalidPassword && (\r\n                         <div className='row justify-content-center'>\r\n                          <span className='siu_signup_passworderror'>Invalid password. Password must have at least 6 characters</span>\r\n                         </div>\r\n                         )}\r\n                        <div className='row justify-content-center'>\r\n                          <span className='siu_signup_button' onClick={this.handleSignUpButton} tabIndex='0'>Let's chat!</span>\r\n                        </div>\r\n\r\n                      </div>\r\n                      )}\r\n                    </div>\r\n                </div>\r\n              \r\n              </div>\r\n            </div>\r\n        </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst SignInUp = connect(mapStateToProps,mapDispatchToProps)(ConnectedSignInUp);\r\nexport default SignInUp;\r\n","import React              from 'react';\r\nimport { connect        } from \"react-redux\";\r\nimport { userInfo       } from '../actions/index';\r\nimport { openMobileMenu } from '../actions/index';\r\nimport { openSigninup   } from '../actions/index';\r\nimport * as firebase      from 'firebase/app';\r\nimport '../css/Mobilemenu.css';\r\n\r\n\r\n\r\nconst mapStateToProps = state => {\r\n  return {  user               : state.user,\r\n            onlineUsers        : state.fetchedOnlineUsers,\r\n            displayMobileMenu  : state.displayMobileMenu,\r\n            connectedTime      : state.connectedTime,\r\n            userCountryAndFlag : state.userCountryAndFlag\r\n        };\r\n      };\r\n\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    userInfo       : user => dispatch(userInfo(user)),\r\n    openMobileMenu : bol  => dispatch(openMobileMenu(bol)),\r\n    openSigninup   : bol  => dispatch(openSigninup(bol)),\r\n  };\r\n}\r\n\r\n\r\nclass ConnectedMobileMenu extends React.Component {\r\n  constructor(props) {\r\n    super();\r\n\r\n    this.displayMobileMenu = this.displayMobileMenu.bind(this);\r\n    this.mobSignInUp       = this.mobSignInUp.bind(this);\r\n  }\r\n\r\n\r\ndisplayMobileMenu() {\r\n  // Open mobmenu when clicking 'Open mobmenu' button\r\n  // Close mobmenu when clicking outside the Menu;\r\n\r\n  let displayMobileMenu = this.props.displayMobileMenu;\r\n\r\n    // Check if displayMobileMenu - If userCp container is rendered or not\r\n    if(displayMobileMenu) {\r\n      // Hide displayMobileMenu box and destroy it\r\n      document.querySelector('.mobmenu_menu').classList.remove('mobmenu_open');\r\n      document.querySelector('.mobmenu_container').style.opacity = '0';\r\n      setTimeout(() => {\r\n       this.props.openMobileMenu({ displayMobileMenu: false })\r\n      },850);\r\n\r\n    } else {\r\n      // Render displayMobileMenu box and display it with delay \r\n      this.props.openMobileMenu({ displayMobileMenu: true })\r\n      setTimeout(() => {\r\n          document.querySelector('.mobmenu_container').style.opacity = '1';\r\n          document.querySelector('.mobmenu_menu').classList.add('mobmenu_open');\r\n       },350);\r\n    }\r\n}\r\n\r\nhandleMobmenuClick(e) {\r\n  // Avoid closing mobmenu when clicking inside menu mobile\r\n  e.stopPropagation();\r\n}\r\n\r\nmobSignInUp() {\r\n  // Hide displayMobileMenu box and destroy it\r\n    document.querySelector('.mobmenu_menu').classList.remove('mobmenu_open');\r\n    document.querySelector('.mobmenu_container').style.opacity = '0';\r\n    setTimeout(() => {\r\n     this.props.openMobileMenu({ displayMobileMenu: false })\r\n    },850);\r\n\r\n  // Open Sign in / Sign up container\r\n    this.props.openSigninup({ displaySignInUp: true })\r\n}\r\n\r\nmobMenuLeaveChat() {\r\n  firebase.auth().signOut()\r\n  .then(() => {\r\n    console.log('Signed out.')\r\n    window.location.reload();\r\n  })\r\n  .catch(error => console.log('Error: ' + error));\r\n}\r\n\r\n  render() {\r\n    const user = this.props.user !== undefined;\r\n    return (\r\n        <div>\r\n          <div className='col-12 mobmenu_container' onClick={this.displayMobileMenu}>\r\n            <div className='row'>\r\n              <div className='mobmenu_menu' onClick={(e)=>this.handleMobmenuClick(e)}>\r\n                <span className='close_mmobmenu' onClick={this.displayMobileMenu}>&times;</span>\r\n                <div className='row justify-content-center'>\r\n                  {!user ? (\r\n                  <div className='mob_signinup_div'>\r\n                    <div className='row'>\r\n                      <span className='mob_signinup_button' onClick={this.mobSignInUp}>Sign In / Sign Up</span>\r\n                    </div>\r\n                  </div>\r\n                  ):(\r\n                  <div className='mobmenu_userinfo'>\r\n                    <div className='row justify-content-center'>\r\n                      <ul>\r\n                        <li>S</li>\r\n                        <li className='mobmenu_info_tit'>Username:</li>\r\n                        <li className='mobmenu_info_subtit'>{this.props.user.displayName}</li>\r\n                        <li className='mobmenu_info_tit'>Email:</li>\r\n                        <li className='mobmenu_info_subtit'>{this.props.user.email}</li>\r\n                        <li className='mobmenu_info_tit'>Connected at: \r\n                          <span className='mobmenu_info_subtit'> {user && this.props.connectedTime}</span>\r\n                        </li>\r\n                        <li className='mobmenu_leavechat'>\r\n                          <span></span>\r\n                          <span onClick={this.mobMenuLeaveChat}>Leave chat</span>\r\n                        </li>\r\n\r\n                      </ul>\r\n                    </div>\r\n                  </div>\r\n                  )}\r\n\r\n                </div>\r\n                <div className='row justify-content-center'>\r\n                  <span className='mobmenu_onusers_title'>\r\n                    <span className='mobchat_online_dot'></span>\r\n                    Online users ({this.props.onlineUsers.length - 1})\r\n                  </span>\r\n                </div>\r\n                <div className='row justify-content-center'>\r\n                  <div className='mobmenu_wrap_onusers'>\r\n                    <div className='row'>\r\n                      <div className='mobmenu_wraponuser_scroll'>\r\n                        <div className='row'>\r\n\r\n                        {/* ONLINE USERS BOX */}\r\n                        {this.props.onlineUsers.length > 0 && this.props.onlineUsers.map((onuser,ind) => \r\n                          <div className='mobon_user' key={ind}>\r\n                            <div className='row justify-content-center'>\r\n                              <div className='mobuser_img'>\r\n                                <span className='mobuser_wrap_img'>{onuser.username === 'BOT' ? <img src={require('../images/chat/bot_img.png')} alt=''/> : <span className='mobonuser_imglett'>{onuser.imgLetter}</span>}</span>\r\n                              </div>\r\n                              <div className='mobuser_details'>\r\n                                <span className='mobuser_det_child' id={onuser.username === 'BOT' ? 'bot_on_user' : null}>{onuser.username}</span>\r\n                                <span className='mobuser_det_child'>Connected at {onuser.connectedTime}</span>\r\n                                {onuser.username !== 'BOT' && (\r\n                                <span className='mobuser_det_child mdc_country'>\r\n                                  <img src={this.props.userCountryAndFlag[1]} alt=''/>\r\n                                  <span>{this.props.userCountryAndFlag[0]}</span>\r\n                                </span>\r\n                                )}\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        )}\r\n\r\n                        </div>  \r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )\r\n  }\r\n}\r\n\r\n  \r\nconst MobileMenu = connect(mapStateToProps,mapDispatchToProps)(ConnectedMobileMenu);\r\nexport default MobileMenu;\r\n\r\n","import React               from 'react';\r\nimport { connect         } from \"react-redux\";\r\nimport { openWelcomePage } from '../actions/index';\r\nimport { userInfo        } from '../actions/index';\r\nimport { openSigninup    } from '../actions/index';\r\nimport { openMobileMenu  } from '../actions/index';\r\nimport { setInactiveUser } from '../actions/index';\r\nimport { getChatMsg      } from '../actions/index';\r\nimport WelcomePage         from '../components/WelcomePage';\r\nimport Header              from '../components/Header';\r\nimport SignInUp            from '../components/SignInUp';\r\nimport MobileMenu          from '../components/MobileMenu';\r\nimport dbRef               from '../firebase';\r\nimport getdbRefData        from '../firebase';\r\nimport * as firebase       from 'firebase/app';\r\nimport '../css/Main.css';\r\n \r\n\r\nconst mapStateToProps = state => {\r\n  return {  \r\n            displayWelcomePage : state.displayWelcomePage,\r\n            user               : state.user,\r\n            userIP             : state.userIP,\r\n            displaySignInUp    : state.displaySignInUp,\r\n            userKey            : state.userKey,\r\n            userLoaded         : state.userLoaded,\r\n            inactiveUser       : state.inactiveUser,\r\n            anonymousUser      : state.anonymousUser,\r\n            fetchedOnlineUsers : state.fetchedOnlineUsers,\r\n            fetchedChatMsg     : state.fetchedChatMsg,\r\n            displayMobileMenu  : state.displayMobileMenu,\r\n            onlineUsers        : state.onlineUsers\r\n        };\r\n      };\r\n\r\n\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n        userInfo        : user => dispatch(userInfo(user)),\r\n        openSigninup    : bol  => dispatch(openSigninup(bol)),\r\n        openMobileMenu  : bol  => dispatch(openMobileMenu(bol)),\r\n        setInactiveUser : bol  => dispatch(setInactiveUser(bol)),\r\n        openWelcomePage : bol  => dispatch(openWelcomePage(bol)),\r\n        getChatMsg      : arr  => dispatch(getChatMsg(arr)),\r\n  };\r\n}\r\n\r\n\r\n \r\nclass ConnectedMain extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n        inputMessage      : '',\r\n        replyToMsg        : false,\r\n        replyUsername     : '',\r\n        firstTextPart     : '',\r\n        secondTextPart    : '',\r\n        user              : this.props.user,\r\n        chatMessages      : this.props.fetchedChatMsg,\r\n        msgAudio          : new Audio(),\r\n        fetchedMessages   : false,\r\n        dataMsgFetchError : false,\r\n        onlineUsers       : this.props.fetchedOnlineUsers,\r\n        onlineUserKey     : '',\r\n        emoticons         : ['😀','😁','😂','😅','😆','😉','😊','😋','😎','😍','😘','🥰','😚','🙂','🤔','🤨','😐','😶','🙄','😛','😒','😓','😔','😕','🙃','🤑','😲','☹️','😭','😦','😧','😡','😠','🤬','🤢','🤮','🤡','🥺','🤥','🤫','😈','💀','👽','💩','😺','👍','👎','🙏','🤜','🤞','✌️','🤟','🤘','👌','👋'],\r\n        renderEmoticons   : false,\r\n        lastMsgIsInView   : true,      \r\n        timer             : 0,\r\n        interval          : undefined,\r\n        botMessageSent    : false,\r\n        alreadyConnected  : false,\r\n\r\n    }\r\n    this.cancelReplyMsg = this.cancelReplyMsg.bind(this);\r\n    this.sendMessage    = this.sendMessage.bind(this);\r\n  }\r\n\r\n \r\ncomponentDidMount() {\r\n\r\n  // Display welcome loading text\r\n  setTimeout(() => {\r\n  // Display loading text on welcome page\r\n   document.querySelector('.wp_wrap_loading_txt').style.opacity = '1';\r\n   document.querySelector('.wp_round_ico').style.opacity = '1';\r\n  },1500);\r\n  // Hide welcome loading container and call function to fetch chat messages\r\n  setTimeout(() => {\r\n    this.props.openWelcomePage({ displayWelcomePage: false })\r\n    this.fetchChatMessages();\r\n  },5000);\r\n  // Delete online user before unload\r\n  window.addEventListener('beforeunload', (e) => this.handleWindowBeforeUnload(e));\r\n  window.addEventListener('resize', (e) => this.handleWindowResize(e));\r\n  // Fetch chat messages\r\n \r\n  // Add event listeners to window to handle user activity\r\n  let actions = ['click', 'mousemove', 'keydown', 'DOMMouseScroll', 'mousewheel', 'mousedown', 'touchstart', 'touchmove', 'focus'];\r\n  actions.forEach((act) => { window.addEventListener(act, () => this.stopTimer()); })\r\n  // If user is not inactive, start timer\r\n  if(!this.props.inactiveUser) {\r\n    this.startTimer();\r\n  }\r\n  // Set default audio for submitted message  \r\n  let url       = require('../images/chat/message.mp3'),\r\n      audio     = this.state.msgAudio;\r\n      audio.src = url;\r\n\r\n   // Handle focus outline on mouse / keyboard\r\n    // If mouse is detected, remove focus outline\r\n    document.body.addEventListener('mousedown', function() {\r\n      document.body.classList.add('using-mouse');\r\n    });\r\n    // If keyboard is detect, add focus outline\r\n    document.body.addEventListener('keydown', function() {\r\n      document.body.classList.remove('using-mouse');\r\n    });\r\n}\r\n\r\n\r\n// TRACK USER ACTIVITY / INACTIVITY //\r\n\r\nstartTimer() {\r\n  let interval = this.state.interval;\r\n      interval = setInterval(() =>{ this.countActivity();},1000);\r\n      this.setState({ interval: interval})\r\n}\r\n\r\ncountActivity() {\r\n  let timer = this.state.timer;\r\n      timer++;\r\n\r\n  this.setState({ timer: timer})\r\n  // If user activity seconds === 180s (3 min), call function.\r\n  if(timer === 180) {\r\n    // Call function to disconnect user  \r\n    this.disconnectUser();\r\n  }\r\n}\r\n\r\nstopTimer() {\r\n let interval = this.state.interval;\r\n  // On event trigger clear interval and timer\r\n  clearInterval(interval);\r\n  this.setState({ interval: interval})\r\n  // Check if timer !== 0 to avoid changing state on every event trigger\r\n  if(this.state.timer !== 0) {\r\n    this.setState({ timer: 0 })\r\n  }\r\n   // If user is not inactive, start timer (avoid infinite counter)\r\n  if(!this.props.inactiveUser) {\r\n    this.startTimer();\r\n  }\r\n}\r\n\r\ndisconnectUser() {\r\n  let interval = this.state.interval;\r\n  // Clear interval and timer\r\n  clearInterval(interval);\r\n  this.setState({ interval: interval, timer:0 })\r\n  // Set inactiveUser to true to display 'Inactive user' modal\r\n  this.props.setInactiveUser({ inactiveUser: true })\r\n  // If user was signed in, sign out\r\n  if(this.props.user !== undefined) {\r\n    firebase.auth().signOut()\r\n  } \r\n  // Call function to remove user\r\n  this.handleWindowBeforeUnload();\r\n  console.log('Used disconnected due to inactivity.');\r\n}\r\n\r\ncomponentWillUnmount() {\r\n  // Add event listener to send request to db after user close tab/browser\r\n  window.removeEventListener('beforeunload', this.handleWindowBeforeUnload);\r\n}\r\n\r\nhandleWindowBeforeUnload() {\r\n    // Delete user with this key before closing the tab/window/page\r\n  if(this.props.userKey.length > 0) {\r\n     let request = dbRef.child('onlineUsers').child(this.props.userKey).remove();\r\n     navigator.sendBeacon(request, null);\r\n   } else {\r\n    console.log('Invalid user key to remove');\r\n   }\r\n}\r\n \r\nfetchChatMessages() {\r\n  let fetchedChatMessages = [],\r\n      self                = this,\r\n      today               = new Date(),\r\n      todayDate           = today.getDate()  + '/' + (today.getMonth() + 1) + '/' + today.getFullYear();\r\n\r\n   getdbRefData.child('chatMessages').on('value', gotData, errData);\r\n\r\n    function gotData(data) {\r\n    // the real value of data key\r\n    let chatMessages = data.val();\r\n    // if there is data to retrive, retrieve\r\n    if (chatMessages !== null) {\r\n      // Hide 'No data to fetch' error message\r\n      self.setState({ dataMsgFetchError: false })\r\n\r\n      let keys = Object.keys(chatMessages);\r\n      let key, username, imgLetter, date, time, message,id, originDate;\r\n\r\n      // Assign value for every variable\r\n        // Map through object, assing variable with all info about messages and push them into fetchedChatMessages\r\n      for (let i = 0; i < keys.length; i++) {\r\n        let k      = keys[i];\r\n        key        = chatMessages[k].key;\r\n        username   = chatMessages[k].username;\r\n        imgLetter  = chatMessages[k].imgLetter;\r\n        date       = chatMessages[k].date;\r\n        time       = chatMessages[k].time;\r\n        message    = chatMessages[k].message;\r\n        id         = chatMessages[k].id;\r\n        originDate = chatMessages[k].originDate;\r\n\r\n\r\n        // Push all info about the online user inside array to be displayed\r\n        fetchedChatMessages.push({\r\n          key        : key,\r\n          username   : username,\r\n          imgLetter  : imgLetter,\r\n          date       : date === todayDate ? 'today' : date,\r\n          time       : time,\r\n          message    : message,\r\n          id         : id,\r\n          originDate : originDate,\r\n        });\r\n      }\r\n\r\n    } else {\r\n      console.log('Errro: No chat message data to fetch'); \r\n      self.setState({ dataMsgFetchError: true })\r\n    }\r\n    \r\n    // Get only the unique values from object array (info from firebase is comming duplicated every time, dunno why)\r\n    let uniqueKey = Array.from(new Set(fetchedChatMessages.map(a => a.key)))\r\n      .map(key => {\r\n        return fetchedChatMessages.find(a => a.key === key)\r\n      });\r\n\r\n    // Remove 'active' id from all the messages and add 'active' id to the last element of array\r\n    for(let i=0;i<uniqueKey.length;i++) {\r\n      if(uniqueKey.indexOf(uniqueKey[i]) !== uniqueKey.length - 1) {\r\n        uniqueKey[i].id = '';\r\n      }\r\n    }\r\n    \r\n   // If fetched messages array length is higher than the old state fetchedMsg (when a new messages is recieved), play sound every time\r\n    if(self.props.fetchedChatMsg.length < uniqueKey.length) {\r\n       let audio = self.state.msgAudio;\r\n             audio.load();\r\n             audio.play();\r\n    }\r\n   // Send welcome bot message if user is not connected\r\n    setTimeout(() => {\r\n       self.sendBotMessage(uniqueKey);\r\n    },2000);\r\n   // Set fetched message and fetchedMessages to true to hide loading chat ring \r\n    self.setState({ chatMessages: uniqueKey, fetchedMessages: true })\r\n    self.props.getChatMsg({ fetchedChatMsg: uniqueKey})\r\n   // If last message is in view (user didn't scrolled up), scroll to bottom of chat\r\n     if (self.state.lastMsgIsInView) {\r\n        self.scrollToLastMsg();\r\n      }\r\n  }\r\n\r\n  function errData(err) {\r\n    console.log(err);\r\n    self.setState({ dataMsgFetchError: true })\r\n  }\r\n}\r\n\r\nsendBotMessage(fetchedMessages) {\r\n  let today  = new Date(),\r\n      time   = today.getHours() + \":\" + today.getMinutes(),\r\n      user   = this.props.user !== undefined ? this.props.user.displayName : this.props.anonymousUser.username,\r\n      self   = this,\r\n      audio  = this.state.msgAudio,\r\n      botMsg = \"Hello \"+user+\"! Welcome to the live chat. You can create an account by clicking the Sign Up button. If you have already an account, you can Sign In and start chatting. Enjoy! 🙂\";\r\n\r\n\r\n  if(!this.state.botMessageSent && this.props.user === undefined) {\r\n     fetchedMessages.push({\r\n          username  : 'BOT',\r\n          imgLetter : 'B',\r\n          id        : 'active',\r\n          date      : 'today',\r\n          time      : time,\r\n          message   : botMsg,\r\n    })\r\n    self.setState({ chatMessages: fetchedMessages, botMessageSent: true })\r\n    this.props.getChatMsg({ fetchedChatMsg: fetchedMessages})\r\n    // Play chat sound\r\n    audio.play();\r\n    // If last message is in view (user didn't scrolled up), scroll to bottom of chat\r\n    if (self.state.lastMsgIsInView) {\r\n        self.scrollToLastMsg();\r\n      }\r\n  }\r\n}\r\n\r\nmuteUnmuteChat() {\r\n  let chatVolume = document.querySelector('.mute_chat_button'),\r\n      chatSound  = this.state.msgAudio;\r\n\r\n  if(chatVolume.classList.contains('mute_chat_button_muted')) {\r\n    chatVolume.classList.remove('mute_chat_button_muted');\r\n    chatSound.volume = '0.9';\r\n  } else {\r\n    chatVolume.classList.add('mute_chat_button_muted');\r\n    chatSound.volume = '0.0';\r\n  }\r\n\r\n}\r\n\r\n\r\nopenEmotiList(e) {\r\n    // Clicking inside chat cause hiding emoticons box\r\n      // Avoid this by stopping propagation\r\n    e.stopPropagation();\r\n    // Focus on input chat after rendering the emotilist to continue displaying the virtual keyboard on mobile\r\n    document.querySelector('.input_txt_value').focus();\r\n    // On mobile size, scroll to last message when rendering emoticons list\r\n    if(window.innerWidth <= 550) {\r\n      if(document.contains(document.getElementById('active'))) {\r\n        document.getElementById('active').scrollIntoView();\r\n      }\r\n    }\r\n    this.setState({ renderEmoticons: !this.state.renderEmoticons});\r\n}\r\n\r\nselectEmoji(e) {\r\n  // Push selected emoji inside text\r\n    // Concat from index 0 of text to the cursor position + emoji + cursor index position to the end.\r\n  let chatInput       = document.querySelector('.input_txt_value'),\r\n      inputSendButton = document.querySelector('.input_send_button'),\r\n      inputMessage    = this.state.inputMessage,\r\n      firstTextPart   = this.state.firstTextPart,\r\n      secondTextPart  = this.state.secondTextPart,\r\n      newText;\r\n\r\n  // Check where focus text position is and insert emoticons there\r\n  if(firstTextPart.length === 0 && secondTextPart.length > 0) {\r\n    newText = e+inputMessage;\r\n  } else if(secondTextPart.length === 0 && firstTextPart.length > 0) {\r\n    newText = inputMessage+e;\r\n  } else if(firstTextPart.length === 0 && secondTextPart.length === 0) {\r\n    newText = inputMessage+e;\r\n  } else {\r\n    newText = firstTextPart+e+secondTextPart;\r\n  }\r\n  // Set newtxt to input value and state\r\n  chatInput.value = newText;\r\n  this.setState({inputMessage: newText });\r\n  // Make input send button active\r\n  inputSendButton.classList.remove('inactive_sendbutt');\r\n  // Focus on input chat after rendering the emotilist to continue displaying the virtual keyboard on mobile\r\n  document.querySelector('.input_txt_value').focus();\r\n  // Close emoji list\r\n  setTimeout(() => { \r\n      this.setState({ firstTextPart: '', secondTextPart: ''})\r\n    },200);\r\n}\r\n\r\nhandleChatClick() {\r\n  // Hide emoticons box when clicking anywhere inside the chat\r\n this.setState({ renderEmoticons: false })\r\n  // If any 'Delete' box from chat messages is displayed, hide it\r\n   let chatDelMessages = document.querySelectorAll('.msgusercp_conf_msg');\r\n    chatDelMessages.forEach((msg) => {\r\n        if(msg.style.display === 'block') {\r\n          msg.setAttribute('style','display:none');\r\n        }\r\n    })\r\n\r\n     // If connected user name is found, set to true\r\n    if(this.props.user === undefined) {\r\n    // Check if connected user name was not removed \r\n      // (usually happens when user is already connected from somewhere else, or name was removed\r\n        // due to user inactivity)\r\n      let onUsers = this.props.fetchedOnlineUsers;\r\n      let founded = false;\r\n\r\n      if(onUsers.length > 0) {\r\n        onUsers.forEach((el) => {\r\n          if(el.username === this.props.anonymousUser.username) {\r\n            founded = true;\r\n          }\r\n        })\r\n      }\r\n\r\n    // If founded remains false, user does not exists inside online users box\r\n    if(!founded) {\r\n     this.setState({ alreadyConnected: true })\r\n     // Set inactive user to disable sending messages if inspect->hide already connected modal\r\n     this.props.setInactiveUser({ inactiveUser: true })\r\n\r\n    }\r\n  }\r\n}\r\n\r\nfullChatWidth() {\r\n  // Expand chat to full width and scroll to last msg \r\n  document.querySelector('.chat_cont').classList.toggle('full_chat_width');\r\n  this.scrollToLastMsg();\r\n}\r\n\r\nhandleChatInput(e) {\r\n   let msgValue           = e.target.value,\r\n    // Check value length\r\n      checkMsgValueLength = msgValue.length > 0,\r\n    // Check for blank spaces\r\n      checkWhiteSpaces    = msgValue.trim().length === msgValue.length,\r\n    // Input send message button\r\n      inputSendButton     = document.querySelector('.input_send_button');\r\n  \r\n      // if username value match, setstate value \r\n    if(checkMsgValueLength && checkWhiteSpaces) {\r\n        this.setState({inputMessage: msgValue})\r\n        inputSendButton.classList.remove('inactive_sendbutt');\r\n    } else if(msgValue.length === 0) {\r\n      // If input is empty, reset value input\r\n      // Clear first and sec part if user had selected some emoji first\r\n        this.setState({inputMessage: '', firstTextPart: '', secondTextPart: ''})\r\n        inputSendButton.classList.add('inactive_sendbutt');\r\n    } else {\r\n        this.setState({inputMessage: '',firstTextPart: '', secondTextPart: ''})\r\n        inputSendButton.classList.add('inactive_sendbutt');\r\n    }\r\n}\r\n\r\nhandleChatInputClick(input) {\r\n  // Get cursor position and split input message in half.\r\n    // In this way, an emoji can be inserted inside the text after click\r\n\r\n  let cursorPosition = input.target.selectionStart;\r\n  let selectionEnd   = input.target.value.length;\r\n\r\n  if (input.setSelectionRange) {\r\n    input.focus();\r\n    // Select counted text range (cursorpositon, end of text)\r\n    input.setSelectionRange(cursorPosition, selectionEnd);\r\n  }\r\n  else if (input.createTextRange) {\r\n    var range = input.createTextRange();\r\n    range.collapse(true);\r\n    range.moveEnd('character', selectionEnd);\r\n    range.moveStart('character', cursorPosition);\r\n    range.select();\r\n  }\r\n\r\n  let inputMessage = this.state.inputMessage;\r\n  // Get first part of input mesasge (from the beginning to the cursor position)\r\n  let firstTextPart  = inputMessage.substring(0,cursorPosition);\r\n  // Get second part of input message (from the cursor index position 'til the end )\r\n  let secondTextPart = inputMessage.substring(cursorPosition, inputMessage.length);\r\n  // Set new text parts / Close emoticons list if rendered\r\n  this.setState({ firstTextPart: firstTextPart, secondTextPart: secondTextPart, renderEmoticons: false })\r\n  // Scroll to last message when clicking on input (handle pushing content to top - on mobile size)\r\n  document.querySelector('.input_txt_value').scrollIntoView();\r\n  this.scrollToLastMsg();\r\n}\r\n\r\nhandleChatKey(e) {\r\n  if(e.key === 'Enter') {\r\n    this.sendMessage(e);\r\n  }\r\n}\r\n\r\nhandleChatScroll(el) {\r\n let lastMessage = document.getElementById('active');\r\n\r\n    // Check if element is InView\r\n   const DivIsInView    = el => {\r\n        const scroll    = window.scrollY || window.pageYOffset\r\n        const boundsTop = el.getBoundingClientRect().top + scroll\r\n        const viewport  = {\r\n          top    : scroll,\r\n          bottom : scroll + window.innerHeight,\r\n        }\r\n        const bounds = {\r\n          top    : boundsTop,\r\n          bottom : boundsTop + el.clientHeight,\r\n        }\r\n        return ( bounds.bottom >= viewport.top && bounds.bottom <= viewport.bottom ) \r\n          ||   ( bounds.top <= viewport.bottom && bounds.top >= viewport.top );\r\n    }\r\n\r\n      // If last message setstate to true / false\r\n    let lastMsgInView = DivIsInView(lastMessage);\r\n    if(lastMsgInView) {\r\n      this.setState({ lastMsgIsInView: true })\r\n    } else {\r\n      this.setState({ lastMsgIsInView: false })\r\n    }\r\n}\r\n\r\nchatMsgHover(e) {\r\n  // Display reply message icon\r\n  e.target.firstElementChild.childNodes[0].firstChild.setAttribute('style','display:block !important');\r\n} \r\n\r\nchatMsgHoverOut(e) {\r\n  // Hide reply message icon when hovering out the chat msg\r\ne.target.firstElementChild.childNodes[0].firstChild.removeAttribute('style');\r\n}\r\n\r\nsendMessage() {\r\n  let messages         = [...this.props.fetchedChatMsg],\r\n      anonymousUser    = this.props.anonymousUser,\r\n      user             = this.props.user,\r\n      inputSendButton  = document.querySelector('.input_send_button'),\r\n      chatInput        = document.querySelector('.input_txt_value'),\r\n      today            = new Date(),\r\n      date             = today.getDate()  + '/' + (today.getMonth() + 1) + '/' + today.getFullYear(),\r\n      time             = today.getHours() + \":\" + today.getMinutes(),\r\n      databaseRef      = dbRef.child('chatMessages').push();\r\n\r\n\r\n      // Focus on input after submit\r\n      setTimeout(() => {\r\n      chatInput.focus();\r\n      },200);\r\n      // Remove 'No data to fetch' chat error message if chatMessages was empty\r\n      if(messages.length === 0) {\r\n        this.setState({ dataMsgFetchError: false})\r\n      }\r\n      // If input chat message is valid and if user was not disconnected due to inactivity\r\n        // Avoid Inactivity Modal - inspect page -> display:none -> Send message as 'Nobody' (because was disconnected)\r\n    if(this.state.inputMessage.length > 0 && !this.props.inactiveUser) {       \r\n          databaseRef.set({\r\n            key        : databaseRef.key,\r\n            username   : user ? user.displayName : anonymousUser.username,\r\n            imgLetter  : user ? user.displayName.substring(0,1).toUpperCase() : 'A',\r\n            date       : date,\r\n            time       : time,\r\n            originDate : today.toString(),\r\n            message    : this.state.replyToMsg ? this.state.replyUsername+\" \"+this.state.inputMessage : this.state.inputMessage,\r\n            id         : 'active'\r\n          })\r\n          .then(() => {\r\n            // Scroll to the bottom of chat\r\n            this.scrollToLastMsg();\r\n          })\r\n          .catch((err) => {\r\n            console.log('Message not sent: '+err);\r\n          })\r\n       \r\n        // Clear input text value\r\n        document.querySelector('.input_txt_value').value = '';\r\n        // Focus on input text \r\n        document.querySelector('.input_txt_value').focus();\r\n        // Disable send message button\r\n        inputSendButton.classList.add('inactive_sendbutt');\r\n        // Clear input values and close emoji list if opened\r\n        this.setState({messages: messages, inputMessage:'', renderEmoticons: false, firstTextPart:'', secondTextPart:''})\r\n        // Call function to scroll to bottom on every new message\r\n        this.scrollToLastMsg();\r\n\r\n        if(this.state.replyToMsg) {\r\n          this.setState({ replyToMsg: false, replyUsername: ''})\r\n          document.querySelector('.input_reply_name').innerHTML = '';\r\n          document.querySelector('.input_reply_name').removeAttribute('style');\r\n          document.querySelector('.input_txt_value').removeAttribute('style');\r\n        }\r\n    } else {\r\n      if(window.innerWidth <= 549.5) { document.getElementById('active').scrollIntoView()}\r\n    }\r\n}\r\n\r\nhandleMsgThreeDots(e) {\r\n  e.stopPropagation();\r\n  // Select next sibling ('Delete' box text)\r\n  let chatDelMsg = e.target.nextSibling;\r\n\r\n // Toggle 'Delete' msg box display  \r\n  if(chatDelMsg.style.display === 'block') {\r\n   chatDelMsg.setAttribute('style','display:none');\r\n  } else {\r\n    chatDelMsg.setAttribute('style','display:block');\r\n  }\r\n  \r\n// Loop through all 'Delete' msg box; If msg is not equal with clicked target, hide it\r\n  document.querySelectorAll('.msgusercp_conf_msg').forEach((msg) => {\r\n      if(msg !== chatDelMsg) {\r\n         msg.setAttribute('style','display:none');\r\n      }\r\n  })\r\n\r\n}\r\n\r\nremoveThisMsg(e,msg) {\r\n  let chatMsg = [...this.props.fetchedChatMsg];\r\n\r\n  chatMsg.forEach((el) => {\r\n    if(el.key === msg.key) {\r\n      // Inner html to deleted msg\r\n      el.message = 'Your message was deleted';\r\n      // Hide 'Delete' txt user msg cp\r\n      e.target.style.display = 'none';\r\n      // Hide user msg cp dots\r\n       e.target.previousSibling.style.display = 'none';\r\n      // Remove msg from db\r\n      dbRef.child('chatMessages').child(msg.key).remove();\r\n    }\r\n  })\r\n  this.setState({ chatMsg: chatMsg })\r\n  this.props.getChatMsg({ fetchedChatMsg: chatMsg })\r\n}\r\n\r\nreplyToThisMsg(msg) {\r\n  // Call function to restore all defaults\r\n  this.cancelReplyMsg();\r\n\r\n  let inputReplyName = document.querySelector('.input_reply_name'),\r\n      inputChat      = document.querySelector('.input_txt_value');\r\n\r\n    inputReplyName.innerHTML = '';\r\n    // Insert username + cancel reply button\r\n    inputReplyName.innerHTML = '@'+msg.username + `<span>&times;</span>`;\r\n     // Set reply username box style padding to fit inside input chat\r\n    inputReplyName.setAttribute('style','padding:10px 20px 0 5px;');\r\n    // Get input reply name width + 8 px\r\n    let replyNameWidth = window.innerWidth <= 549.5 ? inputReplyName.offsetWidth + 53 : inputReplyName.offsetWidth + 5;\r\n    // Focus on chat input , set padding chat input due to name reply width\r\n    inputChat.focus();\r\n    let paddingLeft = 'padding-left:'+replyNameWidth+'px !important';\r\n\r\n    inputChat.setAttribute('style',paddingLeft);\r\n    // Clear chat input value and set the replyUsername\r\n    inputChat.value = '';\r\n    this.setState({ replyUsername: '@'+msg.username, replyToMsg: true });\r\n\r\n    if(window.innerWidth <= 549.5) {\r\n      inputReplyName.style.left = '45px';\r\n    }\r\n}\r\n\r\nhandleWindowResize(e) {\r\n  let inputReplyName = document.querySelector('.input_reply_name'),\r\n      inputChat      = document.querySelector('.input_txt_value');\r\n    \r\n    // Keep the last message in view while resizing the window\r\n  this.scrollToLastMsg();\r\n    // Handle reply name padding and left px on mobile or normal size\r\n  if(this.state.replyToMsg) {\r\n    if(window.innerWidth <= 549.5) {\r\n        // If input reply name left px on mobile !== 45px (let space for emoticon icon) \r\n      if(inputReplyName.style.left !== '45px') {\r\n        inputReplyName.style.left = '45px';\r\n        let replyNameWidthMob = inputReplyName.offsetWidth + 53;\r\n        let paddingLeftMob    = 'padding-left:'+replyNameWidthMob+'px !important';\r\n\r\n        inputChat.removeAttribute('style');\r\n        inputChat.setAttribute('style',paddingLeftMob);\r\n      }\r\n    } else {\r\n        inputReplyName.style.left = '0';\r\n        let replyNameWidth = inputReplyName.offsetWidth + 5;\r\n        let paddingLeft    = 'padding-left:'+replyNameWidth+'px !important';\r\n\r\n        inputChat.removeAttribute('style');\r\n        inputChat.setAttribute('style',paddingLeft);\r\n    }\r\n  }\r\n}\r\ncancelReplyMsg() {\r\n  let inputReplyUsername = document.querySelector('.input_reply_name'),\r\n      inputChat          = document.querySelector('.input_txt_value');\r\n\r\n      this.setState({ replyToMsg: false, replyUsername: '' })\r\n      // Clear reply username box from chat input and remove padding from it\r\n      inputReplyUsername.innerHTML = '';\r\n      inputReplyUsername.removeAttribute('style');\r\n      // Remove style (padding) from input chat and focus on it\r\n      inputChat.removeAttribute('style');\r\n      inputChat.focus();\r\n}\r\n\r\nscrollToLastMsg() {\r\n let lastMessage = document.getElementById('active');\r\n // If lastMessage is inView (scrollbar is at bottom), scroll to bottom (get last message inview)\r\n  if(document.contains(lastMessage)) {\r\n    if(this.state.lastMsgIsInView) {\r\n      setTimeout(function() {\r\n        lastMessage.scrollIntoView();\r\n      },200);\r\n    }  \r\n  }\r\n}\r\n\r\nhandleScrollToChatBottom() {\r\n  let lastMessage = document.getElementById('active');\r\n  // If document contains last message with id 'active'\r\n  if(document.contains(lastMessage)) {\r\n   lastMessage.scrollIntoView({behavior:'smooth'});\r\n  }\r\n}\r\n\r\nclearAllActivity() {\r\n  // Fetch all original data about online users from database\r\n\r\n  let fetchedOnlineUsers = [],\r\n      self               = this;\r\n \r\n   getdbRefData.child('onlineUsers').on('value', gotData, errData);\r\n\r\n   function gotData(data) {\r\n    // the real value of data key\r\n    let onlineUsers = data.val();\r\n    // if there is data to retrive, retrieve\r\n    if (onlineUsers !== null) {\r\n      let keys = Object.keys(onlineUsers);\r\n      let key, userIP;\r\n\r\n      // Assign value for every variable\r\n        // Map through object, assing variable with any info about online user and push the info inside array\r\n      for (let i = 0; i < keys.length; i++) {\r\n          let k         = keys[i];\r\n          key           = onlineUsers[k].key;\r\n          userIP        = onlineUsers[k].userIP;\r\n\r\n        // Push all info about the online user inside array to be displayed\r\n        fetchedOnlineUsers.push({ key: key, userIP: userIP });\r\n      }\r\n    } \r\n    // Get only the unique values from object array (info from firebase is comming duplicated every time, dunno why)\r\n    let onUsers =  Array.from(new Set(fetchedOnlineUsers.map(a => a.key)))\r\n      .map(key => {\r\n        return fetchedOnlineUsers.find(a => a.key === key);\r\n      });\r\n\r\n    // Find all identical IP users and delete them all from db\r\n    for(let i=0; i<onUsers.length;i++) {\r\n      if(onUsers[i].userIP === self.props.userIP) {\r\n        let userKey = onUsers[i].key;\r\n        dbRef.child('onlineUsers').child(userKey).remove();\r\n      }\r\n    }\r\n    // Refresh page after 2 sec\r\n    setTimeout(() => {\r\n      window.location.reload();\r\n    },2000);\r\n  }\r\n\r\n  function errData(err) {\r\n      console.log(err);\r\n  } \r\n}\r\n\r\n\r\n// Mobile menu //\r\n\r\ndisplayMobileMenu() {\r\n  let displayMobileMenu = this.props.displayMobileMenu;\r\n\r\n    // Check if displayMobileMenu - If userCp container is rendered or not\r\n    if(displayMobileMenu) {\r\n      // Hide displayMobileMenu box and destroy it\r\n      document.querySelector('.mobmenu_menu').classList.remove('mobmenu_open');\r\n      document.querySelector('.mobmenu_container').style.opacity = '0';\r\n      setTimeout(() => {\r\n       this.props.openMobileMenu({ displayMobileMenu: false })\r\n      },850);\r\n    } else {\r\n      // Render displayMobileMenu box and display it with delay \r\n      this.props.openMobileMenu({ displayMobileMenu: true })\r\n      setTimeout(() => {\r\n          document.querySelector('.mobmenu_container').style.opacity = '1';\r\n          document.querySelector('.mobmenu_menu').classList.add('mobmenu_open');\r\n       },350);\r\n    }\r\n}\r\n\r\n  render() {\r\n  let user = this.props.user !== undefined;\r\n\r\n    return (\r\n        <div>\r\n\r\n          {/* Welcome page */}\r\n          {this.props.displayWelcomePage && ( <WelcomePage />)}\r\n          \r\n          <Header />\r\n\r\n          {/* Inactive user message modal - render only when 'Already conn modal' is off */}\r\n          {this.props.inactiveUser && !this.state.alreadyConnected && (\r\n            <div className='user_inactive_modal'>\r\n              <div>\r\n              <span>Sorry. You were disconnected due to your inactivity.</span>\r\n              <span>Please refresh the page.</span>\r\n              <span onClick={() => {window.location.reload()}}>Click to refresh</span>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Main container */}\r\n\r\n          <div className='container-fluid main_container'>\r\n            <div className='row'>\r\n\r\n              {this.props.displaySignInUp && ( <SignInUp /> )}\r\n                {this.props.displayMobileMenu && ( <MobileMenu /> )}\r\n\r\n              {/* CHAT CONTAINER */}\r\n              <div className='wrap_main_cont col-12'>\r\n                <div className='row justify-content-center'>\r\n                  <div className='main_sec main_f_sec col-12 col-md-12 col-lg-8'>\r\n                    <div className='row justify-content-center'>\r\n                      <div className='chat_cont'>\r\n\r\n                        {/* If user is already connected, render this modal */}\r\n                        {this.state.alreadyConnected && (\r\n                        <div className='already_connected_modal'>\r\n                          <div className='row justify-content-center'>\r\n                            <span className='alr_connmodal_wrap'>\r\n                              <span>It looks like you are already connected from somewhere else.</span>\r\n                              <span>Please sign out and refresh the page.</span>\r\n                              <span className='mt-3'>If you think this is our fault, <span onClick={()=>this.clearAllActivity()}>click here</span> to clear all your activity</span>\r\n                            </span> \r\n                          </div>  \r\n                        </div>\r\n                        )}\r\n                        {/* Chat signed as _ wrapper */}\r\n                        <div className='chat_signed_name'>\r\n                             <span className='chat_online_dot'></span>\r\n                             Signed as \r\n                             <div className='chat_display_user'>\r\n                              {!this.props.userLoaded ? (\r\n                              <div className='c_load_anon'><div></div><div></div><div></div></div> \r\n                              ):(\r\n                              <span className='chat_signedname_txt'> {user ? ( this.props.user.displayName ):( this.props.anonymousUser.username )}\r\n                              </span>\r\n                              )}\r\n                             </div>\r\n                             <span className='mute_chat_button'   title='Mute / Unmute chat sound' onClick={()=>this.muteUnmuteChat()} tabIndex='0'></span>\r\n                             <span className='toggle_mobile_menu' onClick={()=>this.displayMobileMenu()}></span>\r\n                             <span className='fullwidth_button'   title='Full / Normal chat width' onClick={()=>this.fullChatWidth()} tabIndex='0'></span>\r\n                          </div>\r\n\r\n\r\n                          <div className='row justify-content-center'>\r\n                            <div className='chat_wrapper'>\r\n\r\n                              {/* Chat loading */}\r\n                              {!this.state.fetchedMessages && (\r\n                              <div className='chat_loading_msg'>\r\n                                <div className='loading_chat_eff'>\r\n                                  <div></div><div></div><div></div><div></div>\r\n                                  <div></div><div></div><div></div><div></div>\r\n                                </div>\r\n                              </div>\r\n                              )}\r\n\r\n                              {this.state.dataMsgFetchError && (\r\n                                <span className='no_data_found_msg'>\r\n                                  No data to fetch or an error occurred :(\r\n                                </span>   \r\n                              )}\r\n                              \r\n                              {!this.state.lastMsgIsInView && (\r\n                                <span className='chat_scroll_tobottom' onClick={this.handleScrollToChatBottom}>&#65516;</span>\r\n                              )}\r\n\r\n                              {/* Chat scroll wrapper + fetched messages */}\r\n                              <div className = 'chat_wrapper_scroll' \r\n                                   id        = 'chat_wrapper_scroll' \r\n                                   tabIndex  = '0'\r\n                                   onClick   = {()  => this.handleChatClick()}\r\n                                   onScroll  = {(e) => this.handleChatScroll(e)}>\r\n\r\n                                {/* Chat messages */}\r\n                                <ul className='ul_chat_txt_wrap'>\r\n                                  {this.props.fetchedChatMsg.length > 0 && this.props.fetchedChatMsg.map((msg,ind) =>\r\n                                    <li key={ind}>\r\n                                        <span>\r\n                                        <span className='li_msg_img'> {msg.username === 'BOT' ? <img src={require('../images/chat/bot_img.png')} alt=''/> : msg.imgLetter}</span>\r\n                                        <span className='li_msg_name_date'>\r\n                                          <span id='li_msg_username' className={msg.username === 'BOT' ? 'bot_msg_n' : null}>\r\n                                            {msg.username}\r\n                                            {this.props.user !== undefined && this.props.user.displayName === msg.username && (\r\n                                            <span className='msguser_cp'>\r\n                                              <span className='msguser_cp_dots'    onClick={(e) => this.handleMsgThreeDots(e)}>&#8942;</span>\r\n                                              <span className='msgusercp_conf_msg' onClick={(e) => this.removeThisMsg(e,msg)}>Remove</span>\r\n                                            </span>\r\n                                            )}\r\n                                            {this.props.user === undefined && this.props.anonymousUser.username === msg.username && (\r\n                                              <span className='msguser_cp'>\r\n                                              <span className='msguser_cp_dots'    onClick={(e) => this.handleMsgThreeDots(e)}>&#8942;</span>\r\n                                              <span className='msgusercp_conf_msg' onClick={(e) => this.removeThisMsg(e,msg)}>Remove</span>\r\n                                            </span>\r\n                                            )}\r\n                                            {this.props.user !== undefined && this.props.user.email === 'sionut0122@yahoo.com' && (\r\n                                              <span className='msguser_cp'>\r\n                                              <span className='msguser_cp_dots'    onClick={(e) => this.handleMsgThreeDots(e)}>&#8942;</span>\r\n                                              <span className='msgusercp_conf_msg' onClick={(e) => this.removeThisMsg(e,msg)}>Remove</span>\r\n                                            </span>\r\n                                            )}\r\n                                          </span>\r\n                                          <span id='li_usertimedate'>{msg.time} {msg.date}</span>\r\n                                        </span>\r\n                                        </span>\r\n                                        <span className='li_msg_cont' id={msg.id}>\r\n                                          {msg.message} \r\n                                        {/* Display reply icon if msg username !== BOT && !== User name !== msg username */}\r\n                                          {msg.username !== 'BOT' && (\r\n                                            <span>\r\n                                              {this.props.user !== undefined ? (\r\n                                                <span className='li_msg_reply_wrap'>\r\n                                                  {this.props.user.displayName !== msg.username && (\r\n                                                    <span className='li_msg_reply' title='Reply' onClick={(e)=>this.replyToThisMsg(msg)}></span>\r\n                                                  )}\r\n                                                </span>\r\n                                              ):(\r\n                                                <span className='li_msg_reply_wrap'>\r\n                                                  {this.props.anonymousUser.username !== msg.username && (\r\n                                                    <span className='li_msg_reply' title='Reply' onClick={(e)=>this.replyToThisMsg(msg)}></span>\r\n                                                  )}\r\n                                                </span>                          \r\n                                              )}\r\n                                            </span>\r\n                                          )}\r\n\r\n                                        </span>\r\n                                    </li>\r\n                                    )}\r\n                                </ul>\r\n                              </div>\r\n\r\n                              {/* Emoticons box */}\r\n                              {this.state.renderEmoticons && (\r\n                              <div className='emoticons_box' tabIndex='0'>\r\n                                <ul>\r\n                                 {this.state.emoticons.map((emoji,ind) =>\r\n                                    <li key={ind}\r\n                                        tabIndex = '0'\r\n                                        onClick  = {(e) => this.selectEmoji(emoji)}>\r\n                                        {emoji}\r\n                                    </li>\r\n                                  )}\r\n                                </ul>\r\n                              </div>\r\n                              )}\r\n                            </div>\r\n                          </div> \r\n\r\n                        <div className='row justify-content-center'>\r\n                          <div className='chat_input_wrapper'>\r\n                            <div className='row justify-content-center'>\r\n                              <div className='input_emoticons mr-auto' onClick={(e) => this.openEmotiList(e)} tabIndex='0'></div>\r\n                              <div className='input_text_wrapper'>\r\n                                <span className='input_reply_name' title='Cancel' onClick={this.cancelReplyMsg}></span>\r\n                                <input type='text' \r\n                                       className  = 'input_txt_value'\r\n                                       tabIndex   = '0'\r\n                                       onClick    = {(e) => this.handleChatInputClick(e)} \r\n                                       onChange   = {(e) => this.handleChatInput(e)}\r\n                                       onKeyPress = {(e) => this.handleChatKey(e)}\r\n                                       >\r\n                                </input>\r\n                              </div>\r\n                              <div className = 'input_send_button ml-auto inactive_sendbutt' \r\n                                   tabIndex  = '0'\r\n                                   onClick   = {this.sendMessage}>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                 {/* ONLINE USERS BOX */}\r\n                  <div className='main_sec main_s_sec d-none d-lg-block col-12 col-md-6 col-lg-4'>\r\n                    <div className='row justify-content-center'>\r\n                      <div className='wrap_ms_onlineusers'>\r\n                        <span className='mainsc_onusers_title'>\r\n                              <span></span>\r\n                              Online users\r\n                              <span className='on_users_no'> ({this.props.fetchedOnlineUsers.length > 0 && (this.props.fetchedOnlineUsers.length - 1 )})</span>\r\n                        </span>\r\n\r\n                        <div className='row justify-content-center'>\r\n                          <div className='wrap_onusers_box'>\r\n                            <div className='row justify-content-center'>\r\n                              <div className='wrap_onusers_scroll'>\r\n\r\n                                {this.props.fetchedOnlineUsers.length > 0 && \r\n                                  this.props.fetchedOnlineUsers.map((user,ind) => \r\n                                  <span className='on_user' key={ind} tabIndex='0'>\r\n                                    <span className='row'>\r\n                                      <span className='on_user_img'>{user.username === 'BOT' ? <img src={require('../images/chat/bot_img.png')} alt=''/> : <span className='user_on_imglett'>{user.imgLetter}</span>} </span>\r\n                                      <span className='on_user_data'>\r\n                                        <span className='onuser_name' id={user.username === 'BOT' ? 'bot_on_user' : null}>{user.username}</span> \r\n                                        <span className='onuser_conn'>\r\n                                          <span className='onuser_on_dot'></span>\r\n                                          <span className='onuser_conntime'>Connected {user.id !== 'bot_online' && (<span>at {user.connectedTime}</span>)}</span>\r\n                                        </span> {/* Hide connected time for BOT */}\r\n                                        {user.country !== undefined && user.countryFlag !== undefined && (\r\n                                          <span className='onusser_country'>\r\n                                            <img className='user_flag_icon' src={user.countryFlag} alt={user.country} title={user.country}/>\r\n                                            <span className='user_country_onname'>{user.country}</span>\r\n                                          </span>\r\n                                        )}\r\n                                      </span>\r\n                                    </span>\r\n                                  </span> \r\n                                  )}\r\n                               \r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <span className='footer_t col-12'>&#169;Livechat - ionutdev.com</span>\r\n          </div>\r\n        </div>\r\n      )\r\n  }\r\n}\r\n\r\n\r\nconst Main = connect(mapStateToProps,mapDispatchToProps)(ConnectedMain);\r\nexport default Main;\r\n","import { USER              } from \"./constants/action-types\";\r\nimport { OPEN_SIGN_IN_UP   } from \"./constants/action-types\";\r\nimport { USER_LOADED       } from \"./constants/action-types\";\r\nimport { ANONYMOUS_USER    } from \"./constants/action-types\";\r\nimport { USER_KEY          } from \"./constants/action-types\";\r\nimport { GET_ONLINE_USERS  } from \"./constants/action-types\";\r\nimport { GET_CHAT_MSG      } from \"./constants/action-types\";\r\nimport { GET_CONN_TIME     } from \"./constants/action-types\";\r\nimport { OPEN_USER_CP      } from \"./constants/action-types\";\r\nimport { OPEN_MOBILE_MENU  } from \"./constants/action-types\";\r\nimport { INACTIVE_USER     } from \"./constants/action-types\";\r\nimport { OPEN_WELCOME_PAGE } from \"./constants/action-types\";\r\nimport { USER_COUNTRY_FLAG } from \"./constants/action-types\";\r\nimport { GET_USER_IP       } from \"./constants/action-types\";\r\n\r\n\r\n const initialState = {\r\n              displayWelcomePage : true,\r\n         \t\t\tuser               : undefined,\r\n              anonymousUser      : {},\r\n              userCountryAndFlag : [],\r\n              fetchedOnlineUsers : {},\r\n              fetchedChatMsg     : {},\r\n              connectedTime      : '',\r\n              userKey            : '',\r\n              userLoaded         : false,\r\n              displaySignInUp    : false,\r\n              displayUserCP      : false,\r\n              displayMobileMenu  : false,\r\n              inactiveUser       : false,\r\n              userIP             : null\r\n  \t\t\t\t}\r\n\r\n\r\n function rootReducer(state = initialState, action) {\r\n      if (action.type === OPEN_WELCOME_PAGE) {\r\n        return Object.assign({}, state, {\r\n          displayWelcomePage: action.payload.displayWelcomePage\r\n        });\r\n      }\r\n      if (action.type === USER) {\r\n        return Object.assign({}, state, {\r\n          user: action.payload.user\r\n        });\r\n      }\r\n      if (action.type === OPEN_SIGN_IN_UP) {\r\n        return Object.assign({}, state, {\r\n          displaySignInUp: action.payload.displaySignInUp\r\n        });\r\n      }\r\n      if (action.type === USER_LOADED) {\r\n        return Object.assign({}, state, {\r\n          userLoaded: action.payload.userLoaded\r\n        });\r\n      }\r\n      if (action.type === ANONYMOUS_USER) {\r\n        return Object.assign({}, state, {\r\n          anonymousUser: action.payload.anonymousUser\r\n        });\r\n      }\r\n      if (action.type === USER_KEY) {\r\n        return Object.assign({}, state, {\r\n          userKey: action.payload.userKey\r\n        });\r\n      }\r\n      if (action.type === GET_ONLINE_USERS) {\r\n        return Object.assign({}, state, {\r\n          fetchedOnlineUsers: action.payload.fetchedOnlineUsers\r\n        });\r\n      }\r\n      if (action.type === GET_CHAT_MSG) {\r\n        return Object.assign({}, state, {\r\n          fetchedChatMsg: action.payload.fetchedChatMsg\r\n        });\r\n      }\r\n      if (action.type === GET_CONN_TIME) {\r\n        return Object.assign({}, state, {\r\n          connectedTime: action.payload.connectedTime\r\n        });\r\n      }\r\n      if (action.type === OPEN_USER_CP) {\r\n        return Object.assign({}, state, {\r\n          displayUserCP: action.payload.displayUserCP\r\n        });\r\n      }\r\n\r\n      if (action.type === OPEN_MOBILE_MENU) {\r\n        return Object.assign({}, state, {\r\n          displayMobileMenu: action.payload.displayMobileMenu\r\n        });\r\n      }\r\n      if (action.type === INACTIVE_USER) {\r\n        return Object.assign({}, state, {\r\n          inactiveUser: action.payload.inactiveUser\r\n        });\r\n      }\r\n      if (action.type === USER_COUNTRY_FLAG) {\r\n        return Object.assign({}, state, {\r\n          userCountryAndFlag: action.payload.userCountryAndFlag\r\n        });\r\n      }\r\n       if (action.type === GET_USER_IP) {\r\n        return Object.assign({}, state, {\r\n          userIP: action.payload.userIP\r\n        });\r\n      }\r\n      return state;\r\n    }\r\n\r\n    \r\n  export default rootReducer;","import { createStore } from \"redux\";\r\nimport rootReducer \t   from \"./reducers\";\r\n  \r\nconst store = createStore(rootReducer );\r\n\r\nexport default store;","import React        from 'react';\nimport ReactDOM     from 'react-dom';\nimport Main         from './components/Main';\nimport store  \t\tfrom './store.js';\nimport { Provider } from 'react-redux';\n\n\nReactDOM.render( <Provider store={store}><Main /></Provider>, document.getElementById('root'));\n\n"],"sourceRoot":""}